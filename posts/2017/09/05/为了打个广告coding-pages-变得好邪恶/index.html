<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.80.0"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Coding Pages 是我的博客承载平台。我的博客是用 Hexo 做的， Markdown 语法书写，编译成静态 html 后上传到 Coding Pages 和 Github Pages 上面去，供大家访问。之所以用两个不同的 Pages 服务，是因为 之"><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="为了打个广告，coding pages 变得好邪恶"><meta property="og:description" content="Coding Pages 是我的博客承载平台。我的博客是用 Hexo 做的， Markdown 语法书写，编译成静态 html 后上传到 Coding Pages 和 Github Pages 上面去，供大家访问。之所以用两个不同的 Pages 服务，是因为 之"><meta property="og:type" content="article"><meta property="og:url" content="http://i.am.simonkuang.org/posts/2017/09/05/%E4%B8%BA%E4%BA%86%E6%89%93%E4%B8%AA%E5%B9%BF%E5%91%8Acoding-pages-%E5%8F%98%E5%BE%97%E5%A5%BD%E9%82%AA%E6%81%B6/"><meta property="article:published_time" content="2017-09-05T11:17:17+00:00"><meta property="article:modified_time" content="2017-09-05T11:17:17+00:00"><title>为了打个广告，coding pages 变得好邪恶 | 流沙书斋</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.ce74a2661479d34141b5c018b4f25ba8292b5adeca6de5d7a1b5c4de41c8f25d.css integrity="sha256-znSiZhR500FBtcAYtPJbqCkrWt7KbeXXobXE3kHI8l0="><script defer src=/en.search.min.e9e22635e70f6b266439835f5f310e0afdac100a8577f9068b5ae0e2f166ab97.js integrity="sha256-6eImNecPayZkOYNfXzEOCv2sEAqFd/kGi1rg4vFmq5c="></script><script defer src=/sw.min.74a8bb07f0bee86d6bb9a2750f073f14d93c7e4512f28860370cfd879e9719b4.js integrity="sha256-dKi7B/C+6G1ruaJ1Dwc/FNk8fkUS8ohgNwz9h56XGbQ="></script><script defer src=/custom.min.85e1dbc39b23671ffbf52bcb831b12735ade63896b28278cfb69b35d2c870ee9.js integrity="sha256-heHbw5sjZx/79SvLgxsSc1reY4lrKCeM+2mzXSyHDuk="></script><script src=//kit.fontawesome.com/e81509d074.js crossorigin=anonymous></script></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/><span>流沙书斋</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/><i class="menu-item-icon fa fa-fw fa-home"></i>首页</a></li><li><a href=/posts/><i class="menu-item-icon fa fa-fw fa-blog"></i>博客</a></li><li><a href=/topics/><i class="menu-item-icon fa fa-fw fa-book"></i>专栏</a></li></ul><ul><li><a href=https://github.com/simonkuang target=_blank rel=noopener><i class="menu-item-icon fa fa-fw fa-github"></i>Github</a></li><li><a href=https://www.zhihu.com/people/simonkuang target=_blank rel=noopener><i class="menu-item-icon fab fa-fw fa-zhihu"></i>知乎</a></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>为了打个广告，coding pages 变得好邪恶</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents></nav></aside></header><article class=markdown><h1><a href=/posts/2017/09/05/%E4%B8%BA%E4%BA%86%E6%89%93%E4%B8%AA%E5%B9%BF%E5%91%8Acoding-pages-%E5%8F%98%E5%BE%97%E5%A5%BD%E9%82%AA%E6%81%B6/>为了打个广告，coding pages 变得好邪恶</a></h1><h5>2017-09-05</h5><div><a href=/tags/%E6%8A%80%E6%9C%AF%E4%BA%BA%E7%94%9F/ class=tags>技术人生</a></div><p><p><a href=https://coding.net/help/doc/pages/getting-started.html>Coding Pages</a> 是我的博客承载平台。我的博客是用
<a href=https://hexi.io/>Hexo</a> 做的，
<a href=http://wowubuntu.com/markdown/>Markdown</a> 语法书写，编译成静态 html 后上传到
<a href=https://pages.coding.net/>Coding Pages</a> 和
<a href=https://pages.github.com/>Github Pages</a> 上面去，供大家访问。之所以用两个不同的 Pages 服务，是因为
<a href=http://chloerei.com/2014/02/24/we-saved-github-twice/>之前 Github 被 GFW 墙了</a>，包括 Pages 在内的服务都访问不顺畅，彼时正好 gitcafe pages（
<a href=https://coding.net/gitcafe.html>后来被 Coding 收购</a>）也提供 Pages 服务，所以在国内做了个镜像。这样墙里面的网友不仅不用看 GFW 的心情，还因为服务器在国内，国内网友访问时更快一些。谷歌上一搜『hexo github coding』就能有很多结果，例如这篇『
<a href=http://tengj.github.io/2016/03/06/hexo4/>将hexo博客同时托管到github和coding</a>』。</p><p>但是好像从上个月（八月）开始，coding pages 开始劫持我的博客访问，穿插进他们自己的企业版 coding 的广告，播放五秒之后，再跳转进入我的博客。这很优酷、很爱奇艺，很 APP。广告页面上甚至连一个倒计时的控件都看不到，就右上角（好像是）一行很小的字，跟你讲：<em>你没访问错，这个页面只是广告</em>。</p><p>看了 coding 的解释，你要不花钱买它的会员（金牌会员），就要在你的博客页脚上加『hosted by coding pages』的字样。如下图。</p><p><img src=/images/evil-coding-2.jpeg alt="邪恶的 coding pages。这只是邪恶的开始"></p><p>大家注意截屏上方的绿色警示框：这是我的 pages 通过审核之后的状态。下面标红的复选框需要你在添加脚标之后自行选中，之后就会有专人给你审核开通免广告插入。</p><p>我猜测这是 coding 为了给自己网站做 SEO 的小伎俩。考虑到用了 coding 免费服务有一年多两年，人家要求也不过分，虽然网上很多人吵着要离开 coding 转 github，我还是决定给人加一个脚标。做人要懂感恩嘛。</p><p><img src=/images/footer-screenshot.jpeg alt="我选择的是文字版脚标。为了公平，我把 github pages 的大名也加上了。"></p><p>这之后，痛快了几天。</p><p>真的只有几天。</p><p>然后，coding pages 抽风了。表现症状是，我输入域名访问我的博客，它不显示我的博客，甚至不显示广告，义无反顾跳转到他们家企业版的首页。我的博客看不了了。如下图。</p><p><img src=/images/bad-coding.jpeg alt="输入我的博客域名，本来应该是打开 pages，也就是你看这个网站的，结果直接跳转到他们自己家企业版首页了。"></p><p>不知道 coding 家到底有多想要做 SEO、做 PR。人家
<a href=https://gitee.com>OSChina</a> 比你们家的 PR 还低，人家也没想 SEO 想到这个份儿上。</p><p>自此，我毅然决然，跟 coding 划清界限。</p><p><del>暂时的解决方案是，用
<a href=https://www.oschina.net/news/73980/gitosc-pages>OSChina Pages</a> 顶上，国内用户走
<a href=https://gitee.com>码云</a>，国外用户还是走 Github Pages。希望码云靠谱点，别让大家失望。码云之后也有备选方案，例如：
<a href=https://github.com/gyk001/hexo-qiniu-sync>七牛</a>、
<a href=http://www.jianshu.com/p/9cb7884032d8>BAE</a>，没验证过，也不希望到那一步。</del></p><hr><p>UPDATED (2017-09-05):</p><p><a href="http://git.mydoc.io/?t=154714">码云的 Pages</a> 原来不支持自定义域名。我设置了 cname 试，结果是 403。用码云的话，我只能用 oschina.io 的二级域名：
<a href=http://simonkuang.oschina.io/>http://simonkuang.oschina.io/</a>。这很不好。</p><p>So，先放弃吧，全解析到 Github Pages 上面去。懒得再折腾啦。</p><hr><p>UPDATED 2 (2017-09-05):</p><p>coding 万分邪恶的地方：把我的博客强制跳转到企业版首页时，
<a href=https://stackoverflow.com/questions/9130422/how-long-do-browsers-cache-http-301s>使用了 301 跳转，还特么不带 cache 相关的控制参数</a>。从效果上来讲，按照 crhome 现行策略，
<a href=https://www.v2ex.com/t/327678#r_3858447>客户端的缓存，从服务器端，是无论如何也清除不掉了</a>。stackoverflow 最佳答案最后给的办法行不通（Chrome 60），已经试过。唯一可行的办法是客户端自己清除所有缓存。这不科学。</p><p><strong>说简单点，coding 这是劫持了我的域名给自己网站导流，做得还挺绝，都不给自己留道歉的机会（因为服务器端根本没法儿补救）</strong>。心里有句 MMP，不知当讲不当讲。</p><p>真心不会再跟 coding 打交道。都别劝我，擦！</p></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents></nav></aside></main></body></html>