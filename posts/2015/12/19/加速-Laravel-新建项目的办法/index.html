<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.80.0"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="2017-08-17 更新：因为服务器到期，下述方法已经失效。加速的方法 请参照这里的方法设置 composer 镜像源，并使用下面的方式创建项目。 composer create-project --prefer-dist laravel/laravel [project_name] 这样创建项目时，将使用"><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="加速 Laravel 新建项目的办法"><meta property="og:description" content="2017-08-17 更新：因为服务器到期，下述方法已经失效。加速的方法 请参照这里的方法设置 composer 镜像源，并使用下面的方式创建项目。 composer create-project --prefer-dist laravel/laravel [project_name] 这样创建项目时，将使用"><meta property="og:type" content="article"><meta property="og:url" content="http://i.am.simonkuang.org/posts/2015/12/19/%E5%8A%A0%E9%80%9F-Laravel-%E6%96%B0%E5%BB%BA%E9%A1%B9%E7%9B%AE%E7%9A%84%E5%8A%9E%E6%B3%95/"><meta property="article:published_time" content="2015-12-19T14:07:04+00:00"><meta property="article:modified_time" content="2015-12-19T14:07:04+00:00"><title>加速 Laravel 新建项目的办法 | 流沙书斋</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.90625d9fbb472b5f34fb5ba5842114a94d178eb68035d6dd2a9154e8b9bb1849.css integrity="sha256-kGJdn7tHK180+1ulhCEUqU0XjraANdbdKpFU6Lm7GEk="><script defer src=/en.search.min.bf8f257b7508161e115cfb596478cbb6de138c1c963ae8ff3ac42368dd0a92e3.js integrity="sha256-v48le3UIFh4RXPtZZHjLtt4TjByWOuj/OsQjaN0KkuM="></script><script defer src=/sw.min.74a8bb07f0bee86d6bb9a2750f073f14d93c7e4512f28860370cfd879e9719b4.js integrity="sha256-dKi7B/C+6G1ruaJ1Dwc/FNk8fkUS8ohgNwz9h56XGbQ="></script><script defer src=/custom.min.85e1dbc39b23671ffbf52bcb831b12735ade63896b28278cfb69b35d2c870ee9.js integrity="sha256-heHbw5sjZx/79SvLgxsSc1reY4lrKCeM+2mzXSyHDuk="></script><script src=//kit.fontawesome.com/e81509d074.js crossorigin=anonymous></script></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/><span>流沙书斋</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/><i class="menu-item-icon fa fa-fw fa-home"></i>首页</a></li><li><a href=/posts/><i class="menu-item-icon fa fa-fw fa-blog"></i>博客</a></li><li><a href=/topics/><i class="menu-item-icon fa fa-fw fa-book"></i>专栏</a></li></ul><ul><li><a href=https://github.com/simonkuang target=_blank rel=noopener><i class="menu-item-icon fa fa-fw fa-github"></i>Github</a></li><li><a href=https://www.zhihu.com/people/simonkuang target=_blank rel=noopener><i class="menu-item-icon fab fa-fw fa-zhihu"></i>知乎</a></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>加速 Laravel 新建项目的办法</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents></nav></aside></header><article class=markdown><h1><a href=/posts/2015/12/19/%E5%8A%A0%E9%80%9F-Laravel-%E6%96%B0%E5%BB%BA%E9%A1%B9%E7%9B%AE%E7%9A%84%E5%8A%9E%E6%B3%95/>加速 Laravel 新建项目的办法</a></h1><h5>2015-12-19</h5><div><a href=/tags/laravel/ class=tags>laravel</a></div><p><blockquote><p>2017-08-17 更新：因为服务器到期，下述方法已经失效。加速的方法
<a href=https://pkg.phpcomposer.com/#-composer->请参照这里的方法</a>设置 composer 镜像源，并使用下面的方式创建项目。</p><p><code>composer create-project --prefer-dist laravel/laravel [project_name]</code></p><p>这样创建项目时，将使用镜像源下载框架，而不会从墙外的 <code>cabinet.laravel.com</code> 下载。</p></blockquote><p>前段时间有个项目用到了
<a href=http://laravel.com/>laravel</a> 框架。laravel 本身是个很优秀的框架，OOP 的思想贯穿始终，大量使用已经开源的第三方类库，用反向控制（IoC）的思想对服务进行抽象和隔离，帮助程序员完成对服务的分治，大大提高了架构效率和开发效率、后期维护效率。</p><p>laravel 目前最新的稳定版是
<a href=http://laravel.com/docs/5.1>laravel 5.1</a>。因为我是从 5.1 开始使用 laravel 的，对 5.0 及 4.x 版本并不熟悉。但从网上大家的反馈来看，laravel 4.x 的使用方法和 5.x 相差较多，甚至 5.0 和 5.1 在细节处也有很多大的改进。<strong>我这里针对的主要是使用 laravel 5.1 的朋友</strong>，下面如果未明确提及版本，也默认指代 laravel ^5.1。</p><p>laravel 中新建项目的方法如下：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>laravel new <span style=color:#f92672>[</span>project_name<span style=color:#f92672>]</span>
</code></pre></div><p>但是这个命令很慢，原因在于每次执行这个命令，laravel installer 都会从 <code>http://cabinet.laravel.com/latest.zip</code> 下载最新的稳定版 laravel 空项目代码，用以创新新项目。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#75715e># ~/.composer/vendor/laravel/installer/src/NewCommand.php  (Line.97)
</span><span style=color:#75715e></span>
<span style=color:#75715e>// ......
</span><span style=color:#75715e></span>    <span style=color:#e6db74>/**
</span><span style=color:#e6db74>     * Download the temporary Zip to the given file.
</span><span style=color:#e6db74>     *
</span><span style=color:#e6db74>     * @param  string  $zipFile
</span><span style=color:#e6db74>     * @return $this
</span><span style=color:#e6db74>     */</span>
    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>download</span>($zipFile)
    {
        $response <span style=color:#f92672>=</span> (<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Client</span>)<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;http://cabinet.laravel.com/latest.zip&#39;</span>);

        <span style=color:#a6e22e>file_put_contents</span>($zipFile, $response<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>getBody</span>());

        <span style=color:#66d9ef>return</span> $this;
    }
<span style=color:#75715e>// .......
</span></code></pre></div><p>恰好因为『你懂的』原因，我们访问 <code>cabinet.laravel.com</code> 这个站点的时候会比较慢，由此造成了新建项目的时候很慢。</p><p>我们自己做了一个 mirror 来解决这个问题。</p><p>修改 <code>/etc/hosts</code>（*nux / Mac OSX）或 <code>%SYSTEMROOT%\System32\drivers\etc\hosts</code>（Windows） 文件，新增下面一行：</p><pre><code>123.59.41.89    cabinet.laravel.com
</code></pre><p>这样新建项目的时候，就可以直接从我们的 mirror 上拉取最新的 laravel 发布版，很快完成新项目创建。</p></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents></nav></aside></main></body></html>