<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>旷氏淇元</title>
    <link>http://i.am.simonkuang.com/</link>
    <description>Recent content on 旷氏淇元</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>cmn-Hans</language>
    <lastBuildDate>Tue, 11 Jun 2019 00:27:34 +0800</lastBuildDate>
    
	<atom:link href="http://i.am.simonkuang.com/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>工作中的期权思维（全）</title>
      <link>http://i.am.simonkuang.com/post/option-thoughts-in-works/</link>
      <pubDate>Tue, 11 Jun 2019 00:27:34 +0800</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/option-thoughts-in-works/</guid>
      <description>最近在《得到》APP 听万维钢老师的《精英日课 III》收获挺多的。有一种『自己冥思苦想数载，还说不清道不明，别人轻描淡写数语，说得通透清晰』的感觉。
先是关于博弈论的话题，其次是最近关于期权思维的话题，都讲得我恍然大悟。
这两天讲一讲万维钢老师《期权的智慧》这个系列文章的读后感。
1. 什么是期权思维 期权（option）是指一种选择的权利。不是选择『A/B/C/D』不同选项的权利，而是选或不选的权利。
有点绕。拿吃安眠药举例。一个人有失眠的毛病，晚上躺下担心睡不着，可是越担心越睡不着。怎么办呢？就是吃安眠药。头两次，安眠药效果特别好，吃了药躺下，立马能睡着，于是这个人再也不用担心失眠了。因为药放在家里，万一失眠，随时可以吃，睡觉时再也没有了担心，所以更加容易入睡。这样，晚上睡觉前吃安眠药，就成了可选项(option)，也就是期权，可以选择吃，也可以选择不吃。option 是一种权利，而非义务。
权利常常伴随着义务。像谈婚论嫁这种事。古代，家长为自己孩子定了一门亲事，对方家条件不错——这桩亲事既是权利，也是义务。撕毁婚约的道德风险太高。定亲就是不可选项。而今天的一个女神，如果身边有个备胎随时愿意跟她结婚，但是女神也可以选择别人，这才叫可选项（option）。
（比如美国）股票市场中，有两种类型的期权，一种叫看涨期权（call option），一种叫看跌期权（put option）。因为英文表意更为准确，对延伸理解期权帮助更大，因此后面涉及概念，我都用英文。
call option 的含义是，它允许你在约定的时间，以约定的价格，买入一只特定的股票。call 代表买入，option 代表这是可选项。期权到期，买或者不买这只股票，是你的权利，是可选项（option）。
put option 的含义是，它允许你在约定的时间，以约定的价格，卖出一只特定的股票。put 代表放出。期权到期，卖或者不卖这只股票，是你的权利，是可选项（option）。
我做了一张图来帮助你理解其中的含义。
期权也是一种保险，对抗波动的保险。
比如，你持有一家公司的股票，你长期看好它，希望长期持有。可是最近大形势不太好，你感觉有下跌的风险，但是你又不想卖，怎么办？
用股票期权的办法，你可以买这只股票的 put option。如果股票当真跌了，因为你有 put，有一个被承诺的 put 价格，因此它跌再多，跟你都没关系。期权到期你总可以用当初约定的价格卖出它。你的损失最多也就是当初买 put 的那点钱。你的损失有一个上限。
同样道理，如果你手里的股票最近太热了，它可能在一个高点，你想再等等，可是又怕蒙受损失。那你应该买交割价格比当前价高一些的 call option。如果股票真的下跌，你卖掉的 call option 会变得不值钱，买你 call 的人就不会行使他的权力，你等于白赚了 call 的钱。如果股票反而涨上去了，那你不得不把股票卖出去，不过交割价格比你卖 call 时候的价格还高，你还是赚了一笔。
卖 option 的时候，卖出一种权力，得到一些收益，同时也卖出了（对抗波动的）风险。这就是期权的概念。
讲了这么多期权的概念。那么什么叫期权思维呢？就是利用期权的原理，重新解释生活中的现象。
2. 万老师的洞见 万老师就期权思维提出了几个洞见，非常发人深省。对以前没怎么接触过期权，更不要说具备期权思维的人，这些洞见的触动非常大。
2.1. 『期权只是权利，而非义务』 首先你得认识到，期权是权利，而非义务。 你购买了期权，其实是购买了一种权利，期权到期时，根据波动的情况，你可以选择行权，也可以选择弃权。
第一个是房地产的案例。有家开发商在新规划的地块上建房，现在一切还在图纸上，一年后才能交房。现在可以跟开发商先签约，谈好价格，一年后再买入。开发商为确保你不违约，要求你缴纳一笔抵押金（*万老师这里用『抵押金』一词，我理解『保证金』更符合我们的直觉。是笔误？还是美国的房产市场跟中国不一样？*）。用期权思维，这相当于用抵押金买了一个 call。如果一年后房子升值，你有权以当初的低价买入这套房子；如果房价跌了，你大可违约，无非就是损失掉那一点抵押金。因此，正确的操作是多签几份合约，等房屋升值，再把这些合约转手卖出去。万一房屋没有升值，你损失的，也就是买 call 的钱，也就是那点抵押金。但房屋升值，你的收益上不封顶。
上面这个例子，我理解万老师讲的是美国房产市场。在中国，你跟开发商签订的合约，实际上没办法转手卖出去。开发商不会允许你赚走本来应该由他来赚的溢价。开发商不需要你给他的收益上保险。因为在中国，房价上涨是大概率事件。期房合约是一个无法交易的 call。
因为 option 是权利，所以买入 option 需要付代价。例如，买入股票期权，代价就是钞票。你需要购买期权。
实际中，期权既可能被当做杠杆，放到股票的价格波动，又被当做是股票价格的保险，帮股票持有者提前锁定收益，或者对抗风险。这两种属性，投机和对抗风险，是期权顺（标的价格趋）势操作和逆（标的价格趋）势操作时，达成的不同效果而已。</description>
    </item>
    
    <item>
      <title>『每个架构师都应该研究下康威定律』</title>
      <link>http://i.am.simonkuang.com/post/architect-need-to-know-about-the-conway-law/</link>
      <pubDate>Mon, 10 Jun 2019 17:14:05 +0800</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/architect-need-to-know-about-the-conway-law/</guid>
      <description>InfoQ 中国在 2016 年，发表过一篇文章，杨波的《每个架构师都应该研究下康威定律》。这篇文章对当时的我，触动是非常深刻的。一些说不清道不明的经验，被别人用浅显易懂的道理，讲得一清二楚。
康威定律是很早就听说过的，后来陆续又有一些接触，每次时隔一段时间再做了解，就会有非常深的触动。我理解，原因无他，因为它聚焦在组织架构和系统设计的关系上，而这两者，一个是架构师目标，一个是架构师的手段/工具。文中用很简短的一句话，讲清楚了这中间的关系。
 系统架构的目标是解决利益相关者的关注点。
 这句话简直太重要，太精妙了。
1. 架构师的目标，是各个利益相关者的关注点 很多人对架构师的误解，都以为是架构师是技术执行，是 top-level coder，对 coding 的结果负责。这就犯了以表象取人的问题。为什么？我后面再提。
架构师首先应该关注的，是项目中，各个角色，各个利益相关者，他们的利益诉求，他们在项目中的焦点。根据这些焦点，得到一个权衡的方案，并取得最大限度的支持。
2. 架构是权衡的艺术 权衡的英文表述比较准确一些。trade-off 。利益交易和平衡。
权衡的方法是博弈，无论是纳什均衡还是帕累托最优，权衡目标是达成一个相对稳定的博弈结果。这个结果，就是架构的目标需求。
所以你看，脱离实际场景谈『架构』，本来就是虚空的。
3. 架构首先是业务架构，其次才是技术架构 道理很简单，业务架构往往涉及最直接的利益分配，从市场到产品到后勤保障，通常都对业务指标虎视眈眈。产品技术指标他们并不关心。
从工作流程上来讲，业务架构决定产品设计，产品设计决定技术设计。说业务架构是技术架构的前置步骤，一点不为过。
唯一的例外，可能就是大厂里面做平台产品研发的案例了。从无到有形成一个平台，比如阿里 IaaS 云。商业模式不清晰，业务架构反而受制于技术架构。不过这种机会今后出现的可能性，越来越小。
4. 技术架构是工具/手段 确定了各个 stakeholder 的 key points，剩下就是怎么做的事情了。技术手段、技术架构，不过是实现平衡的工具而已。通过技术架构，将权衡的方案，表达出来，这是一个称职的架构师，秀于外的工作。
我个人对架构师的定义是，以权衡项目中各个利益相关方的利益关注点为目标，以技术设计为工具和手段，以持续的产品技术服务为交付物的产品研发决策者。
所以回过头去看，架构师的工作中，技术架构的部分，优先级排不到前列，称得上是最基础、最『本分』的技能。技术好，技术设计灵活，不是一名架构师值得炫耀的资本。架构师值得炫耀的，是他能够在复杂纷扰的环境中，仍然可以理出线头，正确判断形势，做出合理的架构设计。
比方说，一名做 ToB 业务的 SaaS 平台架构师，既往工作中，以项目经理/甲方的利益诉求为主，以己方销售的利益诉求为辅，养成了习惯。一个需求做不做，怎么做，第一问己方销售/甲方，其次问项目经理，总可以得到答案。有一天，他去到一家做 toC 产品的公司任架构师，他面临的 stakeholders 发生了翻天覆地的变化，『甲方』成了成千上万的个体，怎么去问每个个体，他们的 key points 是什么？所以这位架构师的转变是，以直接上级的利益诉求为主，以产品经理的利益诉求为辅。那么，这个架构师，很明显就犯了最低级的失职。即便他的技术实力再强，首先目标就错了，谈何取得胜利？
雷军讲的，以战术上的勤奋，掩盖战略上的懒惰，大概也是说这个意思。
啰嗦一句。无论是 toC 产品还是 toB 产品，架构师首先应该予以重视的 stakeholder，都应该是财务上销项对应的一方。也就是为公司提供入账的一方。有人可能会觉得奇怪，toC 产品不应该是用户为首要的 stakeholder 吗？真不一定。如果是付费用户，那么他们是公司账上销项对应的一方，他们算首要的 stackholder。如果用户是免费使用公司服务，那么应该把他们看做产品/服务的一部分，把他们看做产品/服务的资源，而不是 stackholder。既然是资源，能为己所用就可以；既然是产品的一部分，只要产品不散就可以。不需要过多考虑免费用户的诉求和偏好。
有些免费产品讲情怀，前提是他们活着不成问题。没干爹可抱的企业，先把自己的财务账算清楚，努力维持公司现金流为正，先有资本活下去，才是正道。别人在山顶为踏足云顶做赋，那是情怀，你在山底谈云，那是浮云。
5. 架构不止『偏技术』，不是每一名架构师都需要『偏管理』的搭档 架构师的责任，是交付能够让至少大多数 stakeholder 满意的架构方案，并且落地执行，交付一个 predictable 的结果。</description>
    </item>
    
    <item>
      <title>从 hexo 搬迁到 hugo</title>
      <link>http://i.am.simonkuang.com/post/my-first-post/</link>
      <pubDate>Mon, 10 Jun 2019 09:53:55 +0800</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/my-first-post/</guid>
      <description>说是第一篇文章，其实是转到 Hugo 以后的第一篇文章。
至于转到 hugo 的原因，见下面的两篇文章。
 hexo 又报 package 的依赖问题了 hexo 又成了技术流的玩具  总的来说，就是 npm 对 package 的依赖管理松散，再加上 hexo 社区对一些常用 plugins 惰于升级维护，导致 dependencies 经常冲突。升级不是，不升级也不是。最后干脆什么都用不了。
以前是重新安装一个 hexo 环境，还有几率能解决依赖的问题（部分 plugins 会降级安装）。但既然已经不是第一次遇到这种情况，问题的根源解决不了，没准儿以后还会遇到，干脆下定决心弃坑 hexo。
hugo 早就听说大名，golang 也是我喜欢的。基本上没调研其它 blog service，直接开始研究起 hugo 来。
1. 安装 hugo 我用 MacBook Pro，装了 HomeBrew，安装 hugo 相对简单。
brew install hugo  2. 建立站点 hugo new site my-blog  完成以后，my-blog 目录下会有以下子目录。
 archetypes: 下面有一个 default.md 的模板，是新建文章的时候，会用到的模板。 config.toml: TOML 格式的配置文件。 content: 放文章源文件，.</description>
    </item>
    
    <item>
      <title>hexo 又报 package 的依赖问题了</title>
      <link>http://i.am.simonkuang.com/post/hexo-dependencies-goes-wrong-again/</link>
      <pubDate>Mon, 10 Jun 2019 09:50:24 +0800</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/hexo-dependencies-goes-wrong-again/</guid>
      <description>因为 hexo 的 package 的依赖问题，特别是对彼此版本的依赖问题，折腾过两三次，一直没有特别好的解决办法。
node 本质上仍然是脚本语言，不像编译型语言，实在不行，还可以把 package 一个一个打成 binary，逐个消除 package 的依赖问题。node 做不到。当两个以上的 package 声明的依赖相互冲突时，这个项目基本上也就废了。没法儿正常使用了。
有人会问，怎么可能出现这样的情况？开发者发现不了吗？
开发者可能还真发现不了。首先，开发者的环境是既有的，是缓慢生长起来的，不是什么问题都能发现的。其次，CI 也不一定能发现问题。有些基础的 package 为了自身兼容性，对不同 node 环境做了兼容处理，在不同版本的 node 下，逻辑代码不同。再次，npm 的 peerDependencies 对 package 之间的依赖关系进行了解耦，有些依赖关系非强制，实际上是允许了冲突的存在。最后，node 的环境隔离方案，类似 pyenv 这样的，也有，非主流，而且治标不治本，仍然解决不了 package 之间的冲突。
之前我遇到的问题是 peerDependencies 导致的。今天遇到的问题，则是对 node 版本的声明导致的。
 error nunjucks@3.1.3: The engine &amp;ldquo;node&amp;rdquo; is incompatible with this module. Expected version &amp;ldquo;&amp;gt;= 6.9.0 &amp;lt;= 11.0.0-0&amp;rdquo;. Got &amp;ldquo;12.4.0&amp;rdquo; error Found incompatible module
 我的 node 是通过 HomeBrew 安装的，latest，当前版本 *v12.4.0*。
对 node 一直有一点担心，然后这种担心在 2016 年左右，逐渐成了现实。那就是 npm 对 package 的依赖管理策略。越松散，越自由，就越极客，越小众；越独裁，越限制，就越方便，越大众。npm 很明显走前者的路线，而且偏向极端。我知道稍微有点能力的公司，用 RN/Vue/Angular…… 都是自己搭 package server，自己造 package。包括一些基础的 package。没别的，就为一条，质量可控。</description>
    </item>
    
    <item>
      <title>Mac 下 VirtualBox 系统扩展不兼容的错误修复</title>
      <link>http://i.am.simonkuang.com/post/virtualbox-system-extension-incompatible-error/</link>
      <pubDate>Mon, 27 May 2019 01:01:17 +0800</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/virtualbox-system-extension-incompatible-error/</guid>
      <description>Mac 上升级 VirtualBox 6.0.8，遇到一个报错，一直搞不定。大意是 system extension incompatible。提示框不是 warning 或者 error 图标，就是普通的 performance 图标，而且只出现一次，再安装，不会出现。
网络上没有结论，大多是说在 Performance 里面做安全授权。然后我遇到的并不是这个问题，Performance 里面没有授权提示。于是自己试着用降级的办法，安装 5.2.30，还是不行，同样的错误。再降级，到 5.2.28，终于行了，安装成功。
打开 5.2.28，发现有个提示，说有磁盘镜像失效，打开管理工具，发现是之前装的 Nox，在 VirtualBox 的配置中写入了 Nox 自己的镜像。卸载 Nox 的时候，Nox 没有从 VirtualBox 的配置中删除 Nox 的磁盘镜像。于是手动确认删除 Nox 相关的两个镜像。再进入 VirtualBox 就好了。
今天忽然想起来，也许就是因为失效镜像，导致升级失败呢。于是再安装 VirtualBox 试试。果然，就行了。
结论 对 VirtualBox 的失效镜像，一定要自行观察，手动清除，不能听之任之，容易造成潜在的问题。有一些模拟器啥的，安装的时候容易，卸载的时候麻烦，只能靠自己多留个心眼。</description>
    </item>
    
    <item>
      <title>外贸/跨境电商/代购/全球购/海淘适用的优惠</title>
      <link>http://i.am.simonkuang.com/post/vultr-vps-affiliate-code/</link>
      <pubDate>Thu, 23 May 2019 15:48:33 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/vultr-vps-affiliate-code/</guid>
      <description>Vultr 是一款国外比较好的 VPS（虚拟服务器）的服务商。服务还算稳定，线路相对比较稳定，重点是，价格便宜。Vultr 在国外主要的节点城市都有自己的机房。日本、新加坡、阿姆斯特丹、巴黎、法兰克福、伦敦、美国东西海岸、多伦多、悉尼。
Vultr 最近有一个活动，第一次注册、付费超过 $25 的新用户，能获得 $50 的试用金，等于一台 1 Core/2G RAM 的服务器免费用 5 个月。牛逼。
对于做外贸、跨境电商的朋友，可以用 Vultr 配合 Cloudflare 免费版做图床，做 EDM 定时任务等等。或者其它做国外业务，希望自己需要一台可操控主机的，vultr 都适合你们。</description>
    </item>
    
    <item>
      <title>hexo 又成了技术流的玩具</title>
      <link>http://i.am.simonkuang.com/post/hexo-also-a-toy-for-geeker/</link>
      <pubDate>Thu, 28 Feb 2019 21:21:53 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/hexo-also-a-toy-for-geeker/</guid>
      <description>其实写这篇文章，心情不太痛快。hexo 是我找了好久才确定下来，能用 markdown 写 blog 的系统。之前试过的如 jekyll 太复杂，而且定制化程度太低，不灵活。刚开始用 hexo 的时候发现它简直是尤物，轻便简洁，扩展性还不错，官方收录了很多 plugins，足够码农用了。
结果没过几年，hexo 也快成了技术流的玩具。
问题一。npm 依赖存在缺陷 首先是 &amp;quot;hexo@3.8.0&amp;quot; 某个依赖 &amp;quot;hexo-fs@0.2.2&amp;quot;，后者依赖 &amp;quot;chokidar@1.2.7&amp;quot;，而 chokidar 又依赖 &amp;quot;fsevents@1.1.3&amp;quot;。好了，最后这个 &amp;quot;fsevents@1.1.3&amp;quot; 是被 deprecated 的版本，包含原生库，已经不存在 binary 下载，从源码编译也会报错。错误的大意是跟 node 的版本不兼容。
下面我把这个关系链重新理一下。
graph LR; A[&amp;quot;hexo@3.8.0&amp;quot;]--&amp;gt;B[&amp;quot;hexo-fs@0.2.2&amp;quot;]; B--&amp;gt;C[&amp;quot;chokidar@1.2.7&amp;quot;]; C--&amp;gt;D[&amp;quot;fsevents@1.1.3&amp;quot;]; D--&amp;gt;E[&amp;quot;(HELL)&amp;quot;];  除了上面的问题以外，大量已经停更的 plugins 依赖的 &amp;quot;hexo-cli@1.0.3&amp;quot; 等旧库，也多对 &amp;quot;fsevents@1.1.3&amp;quot; 存在间接依赖。
用一句话来说后果，在 MacOS 下，用 hexo-cli new + npm i 的方式，根本安装不上 hexo。
问题二。插件的停更、老化 像上面提到的，停更的插件，其间接依赖的第三方库若是被废弃，插件本身也就不可用了。这是一种情况。
第二种情况，hexo 本身在发展，某些停更的第三方插件没有跟着做适配，结果是 hexo 的使用体验受到了影响。
第三种情况，最常见的。哪怕是官网列表中的插件，质量也是有高有低，对那些技术不灵光的用户实在麻烦。
解决方法 针对安装不上的问题。我也不知道怎么解决 :( 我用撞大运的办法，hexo-cli new 一个项目以后，手动修改 package.</description>
    </item>
    
    <item>
      <title>不过时的技术</title>
      <link>http://i.am.simonkuang.com/post/timeless-technology/</link>
      <pubDate>Tue, 26 Feb 2019 21:23:58 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/timeless-technology/</guid>
      <description>最近两天被极客时间的新课刷群刷屏。刷屏的标题大多是“学了这么多年 Java，却连 singleton 都不会用”、“面试总被问高并发，你真的会么”这一类标题党。内容千篇一律是推荐极客时间打新的课程，《Java 并发编程实战》。
高并发哥又不是没做过，随手找了一下，发现陈皓在 2009 年的一篇文章就提到了正确的解法，以及背后的原因。《深入浅出单实例 SINGLETON 设计模式》。
文中给出几种功能上正确的 singleton 写法。
// version 1.4 public class Singleton { private volatile static Singleton singleton = null; private Singleton() {} public static Singleton getInstance() { if (singleton == null) { synchronized (Singleton.class) { if (singleton== null) { singleton= new Singleton(); } } } return singleton; } }  请留意私有变量的描述词 volatile，目的是不让编译器对指令进行重排序优化。
// version 1.5 public class Singleton { private volatile static Singleton singleton = new Singleton(); private Singleton() {} public static Singleton getInstance() { return singleton; } }  这是自动加载版本。每次加载类的时候，实例就生成了。所以加载类的过程可能会很慢（特别是有很多继承、引用的情况）。</description>
    </item>
    
    <item>
      <title>固态硬盘和优盘不是稳健的数据存储介质</title>
      <link>http://i.am.simonkuang.com/post/ssd-and-udisk-is-not-stable-enough-for-data-storage/</link>
      <pubDate>Wed, 26 Dec 2018 23:40:40 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/ssd-and-udisk-is-not-stable-enough-for-data-storage/</guid>
      <description>说到固态硬盘（SSD）和优盘，恐怕很多人心里面有个潜在的印象，就是数据放在这里面，很安全，比在机械硬盘里面安全。最近两个朋友找我，帮找恢复数据的解决方案。两位都是数据放优盘或移动硬盘里面，遇到存储芯片故障。
其实长期不用的数据，放在固态硬盘里面，真的不一定是安全的。固态硬盘的存储原理是往浮栅晶体管上加/放电子，使晶体管的通电性能发生变化，形成通路/闭路，对应数字 1/0，从而达到记录数据的目的。这里就有个问题，浮栅中的电子会存在泄漏的情况，也就是说，记录的数据会丢失。通常，这种数据的丢失受电压（包括静电）、环境温度、以及存储时间的影响。希捷曾经有工程师在报告中讲，温度每上升 5 摄氏度，数据存储的时间就短一半。不通电不读写的情况下，保存在 Nand Flash（SSD、SD Card、TF Card、U Disk……）介质中的数据最多也就两年的存储寿命。最糟糕的情况是像移动硬盘、优盘这样的设备，插入电脑 USB 口的一瞬间，假如遇到静电，Nand Flash 芯片被瞬间高电压击穿，那不管当时环境温度多少、你有没有经常使用，你的数据都完蛋了。
记住，要保存数据，一定用机械硬盘。这是目前最稳妥的方法了。机械硬盘丢数据的风险，都是可以人为规避的。保存得当，存里面的数据，保存十年二十年没问题。不要再傻傻被 SSD、优盘骗了。等到数据都恢复不回来，再后悔。</description>
    </item>
    
    <item>
      <title>MacOS 下安装 flutter 遇到的一个依赖问题</title>
      <link>http://i.am.simonkuang.com/post/a-dependency-problem-for-flutter-on-macos/</link>
      <pubDate>Fri, 19 Oct 2018 13:41:54 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/a-dependency-problem-for-flutter-on-macos/</guid>
      <description>最近在 MacOSX 上安装 flutter 也遇到一些问题。不是 MacOS Mojave 的问题，而是 flutter 依赖的一个开源库，它的依赖树出现版本不兼容问题。
运行 flutter doctor 出现如下提示。
 [!] iOS toolchain - develop for iOS devices (Xcode 10.0) ✗ libimobiledevice and ideviceinstaller are not installed. To install, run: brew install &amp;ndash;HEAD libimobiledevice brew install ideviceinstaller ✗ ios-deploy not installed. To install: brew install ios-deploy ✗ CocoaPods not installed. CocoaPods is used to retrieve the iOS platform side&amp;rsquo;s plugin code that responds to your plugin usage on the Dart side.</description>
    </item>
    
    <item>
      <title>CentOS7 下安装 DNF 的方法</title>
      <link>http://i.am.simonkuang.com/post/install-dnf-on-centos-7/</link>
      <pubDate>Tue, 09 Oct 2018 13:39:35 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/install-dnf-on-centos-7/</guid>
      <description>NOTE(simon): 讲啰嗦一点，方便搜索引擎收录关键字。需要解决方案的同学，可以直接拖到后半部分。
 旧办法不灵 不知道什么原因，CentOS 7 下面安装 dnf 总是要出错，各种各样的问题与不兼容。CentOS 直到现在，还没有正式支持 dnf。相反，Fedora 22 开始就已经正式支持 dnf 作为默认的包管理工具了。差距啊。
之前试过用一个半官方的 dnf repo(rpmsoftwaremanagement/dnf-nightly Copr) 在 CentOS 7 下面安装 dnf，一直都是可以的。也可以正常升级。以前通过这个办法安装过 dnf 的系统，已经升级到 2.8.5。用起来很顺。
但是不知道为什么，最近用这个库，在全新的 CentOS 7 下面安装 dnf，遇到一个麻烦，就是包版本有冲突。类似的错误信息如下。
# yum install -y dnf-2.8.5-0.101g0f20917d.el7.centos Loaded plugins: fastestmirror Loading mirror speeds from cached hostfile * base: mirrors.shu.edu.cn * epel: mirrors.yun-idc.com * extras: mirrors.163.com * updates: mirrors.163.com Resolving Dependencies --&amp;gt; Running transaction check ---&amp;gt; Package dnf.noarch 0:2.8.5-0.101g0f20917d.el7.centos will be installed --&amp;gt; Processing Dependency: python2-dnf = 2.</description>
    </item>
    
    <item>
      <title>MacOS 下 flutter run 遇到墙的问题</title>
      <link>http://i.am.simonkuang.com/post/macos-flutter-run-using-proxy/</link>
      <pubDate>Tue, 11 Sep 2018 20:10:03 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/macos-flutter-run-using-proxy/</guid>
      <description>最近调研 flutter，甚是大爱。
虽然 flutter 非常友好提供了针对中国用户的镜像(Using Flutter in China · flutter/flutter Wiki · GitHub)，解决了一些不可说的难题，但偶尔还是会遇到类似的问题。比如我今天就遇到了，在 VS Code 调试编译的时候，遇到 “Download Failed” 的问题。Could not resolve all files for configuration &#39;:image_picker:lintClassPath&#39;. 具体原因是 Connect to d29vzk4ow07wi7.cloudfront.net:443 [d29vzk4ow07wi7.cloudfront.net/13.33.69.104, d29vzk4ow07wi7.cloudfront.net/13.33.69.3, d29vzk4ow07wi7.cloudfront.net/13.33.69.38, d29vzk4ow07wi7.cloudfront.net/13.33.69.111] failed: Read timed out 。
原来是碰上了墙外面的老朋友，CDN 服务商 cloudflare 的域名。
中间还是比较曲折，最后解决的办法是用 proxychain4 解决问题。
brew install proxychains-ng sed -i &#39;.bak&#39; &#39;s@^\(socks4.*\)@#\1@g&#39; /usr/local/etc/proxychains.conf echo -e &amp;quot;socks5\t127.0.0.1 1080&amp;quot; &amp;gt;&amp;gt; /usr/local/etc/proxychains.conf proxychains4 curl ip.gs  等等，好像不对，IP 是本市的。
$ proxychains4 curl ip.gs [proxychains] config file found: /usr/local/etc/proxychains.</description>
    </item>
    
    <item>
      <title>CoreDNS - 轻量级高性能的 DNS 服务在 MacOS 下的安装部署</title>
      <link>http://i.am.simonkuang.com/post/install-coredns-on-macos/</link>
      <pubDate>Fri, 04 May 2018 13:21:35 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/install-coredns-on-macos/</guid>
      <description>DNS 的原理相信大家都了解。树形结构，根服务器，递归溯源，UDP 协议（现在也有 TCP 协议甚至 http 协议的）。搭建一台自己的 DNS 也是稀松平常的事情。
我遇到的场景是这样的。
 公司有内网机房，研发用，研发环境和测试环境都在内网机房； 公司的域名是『company.com』，在公司内网有专门的 DNS（bind 搭建）做解析； 研发/测试环境的服务器也用顶级域名指向，例如：test1.mod-a.company.com。这类解析都是通过 bind 实现的。公司外网解析不到这个地址； 我自己需要一个安全的 DNS 环境，对 DNS 服务器溯源这个细节，优选 TCP 协议； 对『company.com』顶级域名的解析还是走公司内部的 DNS 服务器，即 bind； 之前用 ss 的 chinadns，可以实现第 4 条，但是无法实现第 5 条。  找了一圈，发现 CoreDNS 挺好的。推荐之。
一、安装 CoreDNS 是 golang 写的，所以只需要下载对应操作系统的二进制文件，到处拷贝，就可以运行了。
下面统统以 MacOS 为例作讲解。
cd ~/Downloads curl -LO &amp;quot;https://github.com/coredns/coredns/releases/download/v1.1.2/coredns_1.1.2_darwin_amd64.tgz&amp;quot; &amp;amp;&amp;amp; \ tar zxf coredns_1.1.2_darwin_amd64.tgz &amp;amp;&amp;amp; \ mv ./coredns /usr/local/bin/  这里补充一句，CoreDNS 的二进制版本已经安装了所有的插件（plugins），不需要你自己编译。推荐下载二进制版本。
二、配置 要深入了解 CoreDNS，请查看其文档，及 plugins 的介绍。</description>
    </item>
    
    <item>
      <title>react-native@0.50.1 开始依赖于一个特定版本的 boost 库</title>
      <link>http://i.am.simonkuang.com/post/react-native-depency-modified-boost-lib-from-0-50-1/</link>
      <pubDate>Sat, 04 Nov 2017 18:35:13 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/react-native-depency-modified-boost-lib-from-0-50-1/</guid>
      <description>react-native@0.50.1 依赖的是 facebook 精简之后的 boost_1_63_0 版本，而不是官方在 sourceforge 上发布的那个版本。
官方发布的版本是这样的。
curl -Lo boost_1_63_0.tar.gz \ https://sourceforge.net/projects/boost/files/boost/1.63.0/boost_1_63_0.tar.gz shasum -a1 boost_1_63_0.tar.gz # macOS, = 2cecf1848a813de55e5770f324f084c568abca0a sha1sum boost_1_63_00.tar.gz # Linux, = 2cecf1848a813de55e5770f324f084c568abca0a  而 Facebook 自己改过的版本是这样的。
curl -Lo boost_1_63_0.tar.gz \ https://github.com/react-native-community/boost-for-react-native/releases/download/v1.63.0-0/boost_1_63_0.tar.gz shasum -a1 boost_1_63_0.tar.gz # macOS, = c3f57e1d22a995e608983effbb752b54b6eab741 sha1sum boost_1_63_00.tar.gz # Linux, = c3f57e1d22a995e608983effbb752b54b6eab741  这是个比较大的坑。
依赖第三方开源 lib，文件名与第三方官方 release 的文件名一致，内容却是自己修改过的。稍不注意就会上当。
因为之前有习惯先通过别的途径下载这个大文件，手动放置到 ~/.rncache 缓存目录下，所以发现了这个问题。
补充说明，为什么说这是一个坑。
react-native run-ios  在模拟器上运行 ios 版本的时候，脚本会首先编译 ios 版本的 app 出来。从安装脚本 node_modules/react-native/scripts/ios-install-third-party.sh 文件最后部分可以看到，会下载编译 ios 版本所需要的几个第三方库并编译。其中就包括了 boost_1_63_0.</description>
    </item>
    
    <item>
      <title>为了打个广告，coding pages 变得好邪恶</title>
      <link>http://i.am.simonkuang.com/post/evil-coding-pages/</link>
      <pubDate>Tue, 05 Sep 2017 11:17:17 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/evil-coding-pages/</guid>
      <description>Coding Pages 是我的博客承载平台。我的博客是用 Hexo 做的，Markdown 语法书写，编译成静态 html 后上传到 Coding Pages 和 Github Pages 上面去，供大家访问。之所以用两个不同的 Pages 服务，是因为之前 Github 被 GFW 墙了，包括 Pages 在内的服务都访问不顺畅，彼时正好 gitcafe pages（后来被 Coding 收购）也提供 Pages 服务，所以在国内做了个镜像。这样墙里面的网友不仅不用看 GFW 的心情，还因为服务器在国内，国内网友访问时更快一些。谷歌上一搜『hexo github coding』就能有很多结果，例如这篇『将hexo博客同时托管到github和coding』。
但是好像从上个月（八月）开始，coding pages 开始劫持我的博客访问，穿插进他们自己的企业版 coding 的广告，播放五秒之后，再跳转进入我的博客。这很优酷、很爱奇艺，很 APP。广告页面上甚至连一个倒计时的控件都看不到，就右上角（好像是）一行很小的字，跟你讲：*你没访问错，这个页面只是广告*。
看了 coding 的解释，你要不花钱买它的会员（金牌会员），就要在你的博客页脚上加『hosted by coding pages』的字样。如下图。
大家注意截屏上方的绿色警示框：这是我的 pages 通过审核之后的状态。下面标红的复选框需要你在添加脚标之后自行选中，之后就会有专人给你审核开通免广告插入。
我猜测这是 coding 为了给自己网站做 SEO 的小伎俩。考虑到用了 coding 免费服务有一年多两年，人家要求也不过分，虽然网上很多人吵着要离开 coding 转 github，我还是决定给人加一个脚标。做人要懂感恩嘛。
这之后，痛快了几天。
真的只有几天。
然后，coding pages 抽风了。表现症状是，我输入域名访问我的博客，它不显示我的博客，甚至不显示广告，义无反顾跳转到他们家企业版的首页。我的博客看不了了。如下图。
不知道 coding 家到底有多想要做 SEO、做 PR。人家 OSChina 比你们家的 PR 还低，人家也没想 SEO 想到这个份儿上。</description>
    </item>
    
    <item>
      <title>从程序猿到架构狮的转变</title>
      <link>http://i.am.simonkuang.com/post/chanlledge-from-programmer-to-architect/</link>
      <pubDate>Thu, 31 Aug 2017 22:04:38 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/chanlledge-from-programmer-to-architect/</guid>
      <description>从程序员到架构师的成长，变化就像从小学生到高中生一样巨大。
不仅是对能力有要求，更重要是对视野的要求，对认知能力的要求，对沟通能力的要求，对组织能力的要求，对适应能力的要求，对执行力和韧性的要求…… 远不是说技术能力成长了，就达到了架构师的要求。更加不是说技术能力有了，*培养培养*，就可以成为架构师了。架构师都是摔打出来的。
看到过对*做架构*有一个不错的定义：系统架构的目标是解决利益相关者的关注点。
所以你看，做架构的架构师，其实是解决人的利益问题，目标是让各方利益尽可能达成一致，做 trade off 的工作，权衡。技术只是实现这个目标的一种手段，一种重要的手段，手段之一，不是全部，甚至于不是最重要的。执行层面成长起来的、技术能力过关的工程师，想要成长为架构师，首先考验的是你听 + 说的能力，也就是沟通表达的能力。沟通能力才是一个合格的架构师最重要的能力。
一、听的能力 这个很有学问。
我们常常假设与我们沟通的都是理性人，他们清楚自己说的是什么意思，他们也确实想要表达这个意思。实际上，几乎不存在这样的理性人。为了避免尴尬、隐藏真实想法，大家说的往往是加以润色的话。即便死党之间畅无不言，潜意识也会偷偷在话里打掩护，顾左右而言他。若是拿别人告诉你的话当个准，九成九会遇到『当初我怎么知道』的情况。
工作中也是如此，系统架构牵扯利益，各方都希望架构师做出有利于己方的设计，所以表达己方利益关切的时候，明明可以『关注』的，他可能用『严重关切』来表达。你没法儿指责他说谎，也许他的表达习惯就是如此，也许是大家对轻重缓急的表达方式不同。但作为架构师，你自己心里就得有个判断：他的话我到底该不该信？信几分？可信的部分在我的架构中轻重缓急怎么判断？
所以，听的能力非常重要。
首先，学会听别人的话外音。 职场上，大部分人是理性的，他们对自己手头的事情能有理性的判断。大多数时候，他们也能清楚知道自己想要什么。只是，他们往往会*委婉*地表达自己的目的。旁推侧击、敲山震虎、隔山打牛、杀鸡儆猴…… 就是不会直来直去。
作为架构师，你得学会听懂别人背后表达的意思，这是最基本的功力了。
其次，听懂别人背后的意图。 再聪明的人也有犯糊涂的时候。有些时候，跟你沟通的某人，会忽然卡壳，不知道接下来要怎么表达/表达什么。他隐约觉得自己想要个小功能，但就是不知道怎么表达出来。这时候如果架构师对这个人有一定了解，知道他关心的点，知道他的风格，就有可能顺着他的思路去提醒他。
倒不是让架构师去做别人肚子里面的蛔虫。这样做至少有两点好处。
 架构师主动提，比一个有明确利益偏向的人来提，提出来的方案合适得多。他讲不清楚的时候，你能讲清楚，还照顾到他的关切，他接受你的方案的概率也很高； 如果架构师对利益方能达到这种程度的了解，可以把利益方的偏好尽可能纳入架构设计的考量中去，就可以做好预埋，防止无谓的需求变更。  最后，听懂别人没说出口的话。 有些话，不一定要说出口，就像上面提到的。另外有些话，说的时候还没想到，或者，说的时候就没怎么想，反正可以以后想到再说。
对架构师，后面两种情况真的够呛。你遇到的是一个*职场 baby*，一个不能为自己的行为负完全责任的人。这种情况下，最好的解决办法是，你能帮他想好，反过来引导他，通过他的嘴讲出来。避免在系统评审会之后，频繁变更带来的成本开销。评审会之后变更架构设计的开销是客观的，成本存在压缩极限；而考虑提前量的开销是可控的，通过人为努力可以使成本逼近零。因此在系统架构设计阶段，尽可能多考虑一些未来的变化，从长远来看，是相当划算的。
这种场景下，考验的是架构师的业务能力、经验和宽泛的倾听技巧。这种能力通过练习可以培养，但成长不会很快。属于二八原理中要花 80% 精力去积累的 20% 那部分。锻炼的时候，要有耐心和信心。
说的能力 说，或者说表达，也是沟通中重要的一部分。对于架构师而言，架构设计就是最好的表达。相对的，就工程师成长起来的架构师，我更提倡学会倾听，而不是表达。
如果硬要说在表达方面有什么建议或者窍门，就下面几句话。
 先听别人说完，自己再说； 说之前，想清楚，尽量言简意赅。话说得太多，在别人耳朵里，就没什么效果了。不如一字千钧有威力； 想表达不同意见的时候，先停顿三秒，再说出口； 有理不在声高； 对事不对人，对过人的自己请客吃饭；  培养能力 沟通的能力也是可以靠锻炼来的，不是谁生下来就是《九品芝麻官》里面的包大人。关于沟通的锻炼方法，极限一点的，请自行谷歌销售技巧培训方法。哈哈
最后补充一句，沟通 + 技术能力，是成为一个架构师的必要条件，还不是充分条件。这两条具备了，才可以说你达到了做架构师的最最基本的要求，有可能做出大家满意的架构设计。后面的，有机会再补充。</description>
    </item>
    
    <item>
      <title>吐槽被NodeJS用滥的软件设计哲学</title>
      <link>http://i.am.simonkuang.com/post/nodejs-abuse-of-software-design-philosophy/</link>
      <pubDate>Sun, 27 Aug 2017 00:54:40 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/nodejs-abuse-of-software-design-philosophy/</guid>
      <description>NodeJS 真的很火，一把大火带热了一直被轻视的、几乎要被认为不是编程语言的前端语言 javascript。火是不是 NodeJS 烧起来的已经不重要，反正它在大火里面烧得火红火红。
NodeJS 的包管理工具 npm（Nodejs Package Management）在这其中功不可没。
直到 2016 年初，有一个很硬的程序猿 Azer，非常不满自己的权益没有被 npm 这个平台正确对待——具体说，就是 npm 收到另外一个用户的律师信之后，擅自删除了前面这个 Azer 的 package，把 package 的名字直接转让给发律师信的用户管理——一气之下将自己创建并管理的所有 npm 上的项目全部 unpublish 了。这种行为在游戏里面叫自杀。关键人家还说挺对的：我解放了我所有的模块，因为我不会在一个某些人滥用特权的地方分享我的开源工作。结果就比较搞笑了，因为其中一个被删除的模块 left-pad 被大家广泛引用，导致 Babel、Ember、ReactNative 等等构建工具、框架，都不能正常使用。除了一些将 package 打包发布的应用，例如 Atom。这事儿在当时简直就是灾难，N 多前端程序猿被迫加班解决问题。
从这件事情之后，有些人也开始反思，于是知乎上有人问『如何看待 Azer Koçulu 删除了自己的所有 npm 库？』这一类的问题。直到后来终于有人问：难道一个只有十一行代码的功能你们都不能自己写了么？（PS：left-pad 只有十一行有效代码）问题才逐渐回归本源上。
要我说，从我了解 npm 开始，就一直觉得它是 DRY（Donot Repeat Yourself）和 KISS（Keep It Simple, Stupid）的极端实践者。极端到什么地步呢，就像上面提到的，连一个十一行代码的功能都要找 npm 上面的 package 来实现，而不是自己写一份。层层叠叠，相互之间的引用关系堪比用 DNA 图谱勾勒人类进化史和迁移史。
现在看来，哲学是好的，但做得有点儿过。
这两天被 npm 搞得够呛。
一直用 hexo 写博客，好好的。手贱升级了 node 到 7.4.x，完了，发现不正常了，报类似下面的错误。
 Fatal error in .</description>
    </item>
    
    <item>
      <title>数字公司旗下的 SSL 服务商好像被 block 完了</title>
      <link>http://i.am.simonkuang.com/post/all-the-ssl-providers-controlled-by-qihoo-are-loser-now/</link>
      <pubDate>Wed, 16 Aug 2017 23:59:08 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/all-the-ssl-providers-controlled-by-qihoo-are-loser-now/</guid>
      <description>刚知道，Apple 早在去年就开始 block Wosign 和 StartCom 作为根签发的 SSL 证书。
继 Symantec 被 google 亲儿子 chrome 拉黑之后，感觉信息安全圈儿的很多事情忽然变了，有『忽如一夜春风来』的感觉。以前是知道有这么些事儿，藏着掖着谁都不说明白，资深的自己玩儿，小弟捡漏，群众连瓜在哪儿都不一定知道。现在是感觉被子掀开，太阳晒进来，虫子晒死一堆——还有大虫子，而侥幸活着的挪个地儿，继续往阴暗处爬。照这趋势，被子迟早彻底掀开，那会儿会怎么样，真不知道。就我知道，glibc 的 hostname resolve 漏洞和 openssl 心脏滴血都是开胃菜。想对隐藏的『大 boss』有直观感觉，请看斯诺登泄密的那些文件。
开源可持续的其中一个前提是：大多数贡献者积极向善。就像最近很火的区块链，确保账本正确、资金安全的前提是，不诚实节点掌握不了超过全网 50% 的运算力。否则，保存在全网区块链中的账本，被人篡改的几率就大大增加，账本不可信，资金不安全，你账户里面躺着的钱有一天会突然变成 TA 的。随着这些年技术门槛降低，互联网开始普及，互联网经济不再神秘，趋金的商人也越来越多走进来，捞钱。他们在互联网经济中所占的比例会越来越大，最后他们的影响力一定会超过作为『互联网原住民』的工程师。趋金不是个贬义词，由它引发的故事却往往是贬义的。这些故事，最终可能会毁了开源，或者说『进化』开源。
阳光下的 M$ 这么多金，届时 M$ 会不会趁虚而入要了这只企鹅的命，还真不好说。
看开点，随个缘咯。
selinux 也是可怜的孩子，生不逢时。网上的小白教程讨论的都是『怎么关闭 selinux』，知乎上也只有『为什么要关闭 selinux』这一类的问题。
在技术发展水平不变的前提下，安全和方便是一体的两面，要想安全，一定会比较麻烦；想不麻烦，就会不安全。可以选择权衡，本质不会变。没有环境倒逼，恐怕很多企业都不会对安全太上心，这就是现状。安全是非功能需求，往往也是次要需求，安全对应的麻烦则被视为成本，追求『绝对安全』的动力不足，只要相对安全就好。而且，这种『相对』的标准，往往还是领导/客户心理上的相对，跟事实差好远。</description>
    </item>
    
    <item>
      <title>阿里云未备案云主机申请 letsencrypt ssl 证书</title>
      <link>http://i.am.simonkuang.com/post/apply-http-ssl-cert-file-from-a-non-beian-aliyun-ecs/</link>
      <pubDate>Mon, 31 Jul 2017 00:34:22 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/apply-http-ssl-cert-file-from-a-non-beian-aliyun-ecs/</guid>
      <description>用阿里云国内机房的主机有个『小问题』，备案。下面说的，一种情况是没有备案，另外一种情况是备案中，但是业务急于对外发布，等不及以周为单位的备案进程。
访问绑定到阿里云 ECS 上的、没有备案的域名，阿里云机房会劫持你的 http（80 端口）上行流量，无视你实际的返回内容，将之篡改成一个页面 title 为『TestPage』的*温馨提示*（如下图）。
而一台不能提供 http 服务的阿里云 ECS 不是真正的服务器。解决这个问题的办法，将 http 换到 https 就可以了。
https 选哪家 总所周知，自从 WoSign 被我大天朝数字公司收购之后，颇多周折，跟同袍兄弟 StarSSL 一起被业界良心 chrome 拉黑。现在使用 WoSign 签发的 ssl 证书会被 chrome 直接判定为证书无效。
最近连商务范儿最重的 Symantec 都被 chrome 一再警告之后拉黑。除了认为 chrome 真任性之外，也提醒我们选择 ssl 服务商时一定要慎重。
目前来看，从个人到中小企业，最佳选择是 google 投资的 Let&amp;rsquo;s Encrypt。运用 ACME 协议自动签发、自动续期，技术宅最爱，不是技术宅也有现成工具简单操作即可。
怎么生成 http ssl 证书 首先注明，申请 Let&amp;rsquo;s Encrypt 家的 http ssl 证书，不需要提前准备啥资料，不需要书面申请，这跟国内的『管理』方法不一样。你只需要证明这个域名归你所有，http ssl 的证书就可以签发给你使用。但是为了防止域名到期易主、中途转让等等原因，发生域名新主人拿不到 http ssl 证书的情况，所以 Let&amp;rsquo;s Encrypt 规定了每次签发的 http ssl 证书有效期只有三个月，证书生成一个月之后可以免费重签/续期，不用等到临近有效期再续签。</description>
    </item>
    
    <item>
      <title>用 openresty 来做 app api 接口的验真</title>
      <link>http://i.am.simonkuang.com/post/check-in-app-accessing-with-openresty/</link>
      <pubDate>Tue, 25 Jul 2017 12:37:04 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/check-in-app-accessing-with-openresty/</guid>
      <description>app 服务器端的开发中，有一个百年不变的小东西：api 访问的验真问题。因为 http 协议是无状态的，每次 app 发起请求，我都需要验证这次请求的确是由真实的、授权的 app 发起，以此来阻止不诚实用户发起的攻击、数据爬取，确保产品的安全，和用户在产品上的信息安全。
JWT（JSON Web Token）是一个 http 之上的不错的 api 验真协议，结合 https，几乎可以安全地传输各种数据。最关键是，它原理简单，没用到啥黑科技，新瓶装老酒，但实用。
openresty 是春哥做的一款神器，在 nginx 上挂了个 lua 引擎，可以用 lua 脚本指挥 nginx 做很多事情。了解 lua 的童靴都知道，lua 的执行性能堪比 C++/Java 这些编译型语言，大家在一个量级。能做到这步，已经相当感人。用 openresty 来实现 jwt 协议，做 api 访问的验真，可以降低后台系统的复杂程度，同时还能提高系统鲁棒性，防止被恶意攻击时系统雪崩。
现在已经有 openresty 的 jwt 模块，叫 lua-resty-jwt 的，还有基于它做了二次封装的 openresty-nginx-jwt。
有了这个 jwt 的 openresty 模块，可以在 http server 这一层对 api 访问做验真，业务系统接收到的请求理论上都是真实的，避免调用庞大的业务系统做验真。这在收到 api 攻击的时候效果最明显，那时每次调用庞大的业务系统，加载若干组件，仅仅做了一次验真，然后就释放资源，销毁请求。简直是罪过。
话分两头说，直接上这个 jwt 模块存在一些风险。要在生产环境使用 jwt，还有一些工作必须做。
 secret 的策略。jwt 协议中，并没有规定 secret 怎么来的，实际操作中，不同的 secret 策略会有不同的效果。  整个系统使用一个固定的 secret。不诚实用户可以注册账户，暴力穷举或内存搜索，得到 secret 明文。存在系统性风险。风险高。 一台服务器使用一个 secret，secret 写到 openresty 的配置中。仍然有上述问题，还增加了做负载均衡的难度。风险高。 一个用户一个 secret，openresty 根据用户信息取 secret 编解码。风险低，复杂度高。  api 访问日志需要保存。特别对验真失败的访问，要能有手段及时处理日志，分析风险，对恶意用户可以屏蔽 IP 等手段规避。 经过验真的 api 访问日志结合静态资源访问日志，可以模拟真实用户的访问场景。结合 lazy load 等前端技术，甚至可以判断出用户究竟看了几页，资源加载速度快还是慢。这么好的资源，不能浪费。  接上面。第一点好解决，一个 subrequest，或者单独给 lua-resty-jwt 一个 redis 存用户的 secret，就行了。第二点和第三点说的其实是一件事情，记日志，而且是把验真失败和验真成功的日志分开记。验真失败的日志需要参与在线准实时的计算，验真成功的日志打包保存，用来做离线的大数据分析，统计用户访问指标，优化产品。</description>
    </item>
    
    <item>
      <title>用户就是个数字（外两则）</title>
      <link>http://i.am.simonkuang.com/post/user-only-equals-number/</link>
      <pubDate>Sun, 30 Oct 2016 14:16:45 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/user-only-equals-number/</guid>
      <description>这两天有种忙得不亦乐乎的感觉，倦怠了写博客。
用户就是个数字 要说的是关于鹅厂邮箱的事儿。标题是很多大公司做产品的哲学，当然也包括鹅厂自己家的。
我是鹅厂毕业，也算是鹅厂粉丝，但凡能鹅厂产品能满足要求的地方，就不会用别家的产品。企业邮箱就是一个例子。
我的个人常用邮箱以自己的域名作为后缀，最初放在腾讯邮箱的『企业邮箱免费版』上，用了有两年左右的时间，一直很正常。一直到这周朋友给我发送邮件，被退回来，提示邮箱不存在一类的错误。我才注意到，原来我的免费版的企业邮箱被腾讯单方面终止了服务，正在使用中的邮箱无法收发邮件，甚至无法登陆，从管理后台登陆上去才了解到是域名无故被解绑。而在这之前，无论是我绑定了该企业邮箱的微信，还是企业邮箱本身，被抑或企业邮箱的管理账号，都没有收到任何相关的提示信息。
我首先排除管理账号被盗、黑客为之的可能性。很简单，腾讯企业邮箱的那个管理账号我很长很长时间没有使用过，账号名是一个我从来没有在别的地方使用过的字符串，不存在被社工被钓鱼的可能性。而且管理后台中，我的企业邮箱绑定过三个域名，除开今年有一个因为域名到期没续费自动失效当即被清理，一个我一直在使用中的域名无故清除，只剩下一个绑定后几乎没有使用过的域名。如果是黑客捣鬼，为什么单独给我留一个没使用过的域名？这讲不通。
后来有朋友在朋友圈中留言，了解到原来有朋友也遇到过，也是腾讯企业邮箱免费版，绑定的域名下有一个用来做客服的邮箱，经常在登录使用，也是毫无预警的情况下被清理，并且也是从后台直接解除了整个域名的绑定。
不同的是，朋友用的邮箱在两个月前失效，我的邮箱是在一个月前失效。分批分次在清理免费邮箱——而且是不给你任何预警、提示、通告、宽限期、选择项…… 直接让你的邮箱和邮件消失掉的清理。
到现在，这事儿几乎很明显是腾讯邮箱人为在清理的动作。因为太没底线了。按照腾讯一贯的价值观，这绝对不是一个『正直』的事情，这样的服务态度也不完全不符合『水和电』的特征，更加不『值得尊敬』。
在大厂做过 2C 产品的同学都知道，用户不过是一个庞大的数字，和员工自身利益休息相关的 KPI 也是通过评价这些数字，来调节对员工的奖惩。对于每一个单一的用户，大厂的产品真的是多你一个不多少你一个不少。
今天正好看到广研大 boss 张小龙在微信事业群管理大会上的一个演讲，明确要求内部不要盲从流程和 KPI，要坚持用户价值导向。真的说得很好。他还特别举了 QQ 邮箱的例子，这是个大家都比较熟悉的例子。当年 QQ 邮箱从上不了邮箱服务 Top10 排名到后来逆袭压倒 Hotmail 和网易邮箱，方法是小团对敏捷开发，背后的思想仍然是坚持用户价值导向。如果企业邮箱的团队能够坚持用户价值导向，是一定不会做这么出格的事情。
希望老东家能越来越好。千万守住自己的底线。
139 邮箱之乱象 又是邮箱的故事。
我的 139 邮箱在 2014 年设置过一个别名，这样可以用英文名而不是手机号作为邮箱前缀，识别度更高。我拿 139 邮箱主要是在国企那段时间用来收发工作上的邮件。
然而自开通邮箱别名开始，就经常收到一些莫名其妙的邮件，邮件经常开头有名有姓，称谓是我没听过的名字。刚开始以为是骚扰邮件，没有管，后面类似的邮件来得越来越多，我也听之任之，反正这个邮箱后来几乎就没有怎么用过了。
这周忽然收到一封邮件，是微博发送的，提醒我登录别名邮箱对应的微博账号。很奇怪，我不可能用 139 邮箱注册微博账号。担心邮箱帐密被盗用作什么不好的事情，于是通过微博的找回密码服务找回了账号对应的密码（后来知道，微博账号如果没有绑定手机，那么别人拿到你的邮箱，随便使用一个手机也能找回密码），发现是一个运营了三四年的企业微博，企业地址在上海。到此我才恍然大悟。
在我设置 139 邮箱别名的时候，我设置的这个别名其实是有人在使用的。不知为何，139 邮箱仍然把这个别名分配给我。所以我经常收到本该属于另一个用户的邮件，而且猜想那个用户同时也能收到本该属于我的邮件吧。一个别名邮箱，我们俩都有在使用，不论谁发送邮件，我们俩都能收到。
最后我给我们俩『共用』的别名邮箱发了消息，告诉他这个情况，并承诺把微博密码还给他。希望他能看到。
邮箱作为互联网基础服务，服务的稳定性应该要有最基本的保障，安全和隐私也应该要能做到最基础的保障。这跟邮局里面申请一个邮箱一样的。可是一周内竟然遇到两次大乌龙，我也是醉了。
所幸我还有一个 gmail 注册的企业邮箱。从今天起，免不了后续会逐步把常用邮箱换成那个。
在天朝，用个邮箱都能吓死宝宝。
关于运维的笑话 有个运维跟中学同学聚餐，接了个电话，大家都吓尿了。。。。
『喂，是我。』 『怎么回事？……卡在哪儿了？』 『不行就杀了吧，做事别磨磨唧唧的。先保证业务正常。』 『啥？找不到？杀不了？你不知道 killall 啊！把这个名字的全干了。』 『嗯。』 『诶？怎么还报警了！』 『你让胡总赶紧把警报先关了。你就在现场，报警有个屁用。』 『你跟他好好说一下，就说是我说的。这破事儿二十分钟内就能搞定，不要动不动就报警。』 『嗯。』 『对，挂了也要拉起来，就没什么不行的！他敢挂掉你就再拉一个。』 『擦！早不挂晚不挂，这会儿挂，真特么不是时候！』 『行了，我马上过来。都特么不给老子清净！擦！』 ………… (o_o) 『我不吃了，要去加个班。喂，你们都看着我干嘛…… 』</description>
    </item>
    
    <item>
      <title>『东航两飞机险相撞』事件中的飞行知识</title>
      <link>http://i.am.simonkuang.com/post/cold-knowledge-about-plane-taking-off/</link>
      <pubDate>Sat, 22 Oct 2016 23:58:23 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/cold-knowledge-about-plane-taking-off/</guid>
      <description>今天无意中打开 Maxthon，看到了推荐的一则旧闻——『东航两飞机险相撞』。我记得事件当天就有看到这则报道，当时的第一反应是：类似荷兰皇家航空发生的空难（特内里费空难）在虹桥机场被避免了。今天看到的更多是后续报道，新闻报道的焦点几乎都在 V5 的机长和疏忽的管制员身上。
俗话说，对航空航天没点儿兴趣的码农不是好的 CTO。凭借我多年积累的航空知识，和对航空事业发展的关注——其实就是对各城市机场航班老是延误的那点儿感性认知——跑道入侵征候（被规避了，不算空难）在今天不能算是罕见。不过这次这个事件号称是相差三秒相撞，事后也被定型为 A 类跑道入侵事件，说明事件本身还是非常严重的。
下面摘自澎湃新闻的后续报道。
 通报称，这是一起塔台管制员遗忘飞机动态，违反工作标准而造成的人为原因严重事故征候。性质极为严重，属于A类跑道入侵，险些发生飞机相撞。当时两架飞机垂直距离仅19米，翼尖距13米，两机仅差约三秒就会发生碰撞。320机组果断处理，操纵正确，避免了一起事故。330机组接受了穿越跑道的错误指令后，虽然看到了飞机起飞，但并未提出质疑。
通报认为，管制员违反相关规定，盲目指挥，双岗制责任落实不到位；专业人员资质是重中之重，自制能力要跟上；管理手段和工作流程存在问题，要系统思考原因，加以改进。
通报还提到，330机组存在SOP的问题，观察不周，不按规定，关闭了应答机。带飞左副驾驶不知道东航穿越跑道程序。没有交叉检查，没有互相证实。但是机组没有机械听从塔台原地等待命令，加速穿越，避免了两机相撞，暴露了训练上的问题。320机组处理非常到位，临危决断，立了大功。副驾驶操纵迟疑，点了一下刹车，机长迅速接过操纵，以7.03度/秒的速率，带杆到机械止动位。
 首先明确了这是一起人为因素造成的事故，而且是塔台管制员疏忽占主因、A330 机组占次因的事故。事后调查表明，A330 机组存在 SOP 问题，以及观察不周、关闭应答机等问题。
其次，报道中提到了 A320 机组在事件中临机处置立了大功。7.03度/秒的速率，带杆到机械止动位，才避免了两机相撞的事故。当然，这其中还有一个明显的对比：『副驾驶操作迟疑，点了一下刹车』，后来『机长迅速接过操纵』，才避免了机毁人亡的悲剧。
这其中有多个航空相关的知识，自己也是边看新闻边搜索，记下来，也给其他有兴趣的朋友科普一下。
基础概念 跑道入侵 具体的知识见维基百科跑道入侵条目。
按照定义，很显然，本次事件中，A330 错误地出现在飞机起飞和降落的保护区域表面，是一起跑道入侵事件无疑。
 据悉，通报指出，此次事件性质极为严重，属于A类跑道入侵。
据业内人士介绍，“A类跑道入侵”非常罕见。目前，民航界把跑道入侵分为以下五个级：
A类，间隔减小以至于双方必须采取极度措施，勉强避免碰撞发生的跑道入侵；
B类，间隔缩小至存在显著的碰撞可能，只有在关键时刻采取纠正或避让措施才能避免碰撞发生的跑道入侵；
C类，有充足的时间和（或）距离采取措施避免碰撞发生的跑道入侵；
D类，符合跑道入侵的定义但不会立即产生安全后果的跑道入侵；
E类，信息不足无法做出结论，或证据矛盾无法进行评估的情况。
按照《民用航空器事故征候》标准，A类属于航空器严重事故征候，B类属于一般事故征候。据悉，根据新下发的文件，“A类跑道入侵”是指必须立即采取极端措施才能避免相撞的跑道入侵。
——摘自传送门 新民晚报
 客机离地起飞的介绍 这里有一篇通俗易懂的科普文《客机驾驶探秘Airline Pilot 3.3 起飞离地》。
为简化阅读和防链接失效，同时把重点摘录整理如下。
PFD PFD，直译过来就是『主飞行显示屏』，主要用来显示飞机的飞行状况，以及计算机给出的一部分飞行建议。
上图是波音 737 的 PFD。其中，紫色的倒 V 字型标识是 FD 指令条（Flight Director Command Bar），下面白色的倒 V 字型标识代表自己的飞机。按照例子中的状态解读：飞机需要执行拉起 +8 度抬头的操作。
上图是空中客车的 PFD。Flight Path Director (FPD) 线是计算机所给出的指令，Flight Path Vector (FPV) 表明飞机处于的方位，飞行员要控制飞机使 FPV 处于 FPD 的中心。此例中飞机左转时机头向下，应保持左转并拉起 +4 度抬头。</description>
    </item>
    
    <item>
      <title>另一个包管理工具——DNF</title>
      <link>http://i.am.simonkuang.com/post/another-package-management-tool-under-centos-named-dnf/</link>
      <pubDate>Mon, 17 Oct 2016 09:45:55 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/another-package-management-tool-under-centos-named-dnf/</guid>
      <description>更新（2017-06-01）：repo 的 url 有变化，更新之。后附更新脚本。
 DNF 起源于 YUM 的一个分支，最早用在 Fedora 18，在 Fedora 22 中默认安装，成为系统工具。现在更是被广泛看作 YUM 的接班人。虽然 DNF 号称自己不错，但是幸好，至少从目前来看，都可以看做是对 YUM 的小修补。整体来说，DNF 对 YUM 的兼容做得很好，甚至于部分操作可以 yum 和 dnf 混合着来——当然，新旧掺杂绝对不是好习惯，我就这么一说，证明 YUM 和 DNF 的关联之亲近。用惯了 YUM 的朋友们一定不会抗拒换到 DNF，它们的用法非常相似，而且 DNF 的更有现代语言风格。
我常用的系统是 CentOS，虽然已经被 RedHat 收购，但是 CentOS 的品质和定位都没有变，这很难得。最新（截至 2016-10-16）的 CentOS 是 7.2.1511。下面的步骤在 CentOS 上尝试，对 Fedora/RHEL 理论上同样适用。Fedora 上应该还更加简单，下面的问题好多都不会遇到。
闲话不说，安装步骤如下。
一、手动安装全新的 yum repo 新增一个 repo，从这个 repo 中用 yum 安装 DNF。这是因为 CentOS Base repo 中的 DNF 版本太低，只有 0.</description>
    </item>
    
    <item>
      <title>MacOS Sierra 升级之后的坑</title>
      <link>http://i.am.simonkuang.com/post/chrome-failed-on-opening-https-pages-after-upgraded-os-to-macos-sierra/</link>
      <pubDate>Thu, 06 Oct 2016 00:18:55 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/chrome-failed-on-opening-https-pages-after-upgraded-os-to-macos-sierra/</guid>
      <description>今年六月，Apple 宣布要把 MacBook 的 OS 名称从 OSX 改名为 MacOS。为了体验第一代的 MacOS Sierra，我也是第一时间选择了系统升级。2012 mid 的 MBP，升级到 MacOS，感觉我也有点拼了。
升级完之后总体感觉还好，几乎都在预期内。却是在升级完成后大约第三天遇到 Chrome 报错，而且是反复的、随机的报错：『ERR_NETWORK_CHANGED』和『ERR_CERT_DATABASE_CHANGED』，就这两个。第一个出现的时候，页面 load 失败；第二个错误出现一般都是 js 或者 css 等页面资源 load 不下来（但是在新窗口打开这些资源又都没有问题）。
找了一圈，国外的网友们普遍表示情绪很稳定，没有遇到过。难道只是我大兲朝人民会遇到？
一开始考虑过是最近倡导的 HTTP =&amp;gt; HTTPS 运动，有部分网站匆忙升级，可能在主站和资源站（相当一部分网站会把静态资源放到 CDN 上）之间的 key chains 路径有冲突所致。CERT_DATABASE_CHANGED 应该也是差不多的意思——原谅我懒癌发作，没去挖 chromium 代码。
不过网站的配置有错，我也没辙。问题却总是要解决的，哪怕用什么讨巧的办法。于是，今天找到了 V2EX 上面的这个 issue《MacOS Sierra 升级 CHROME 用 HTTPS 访问间歇性失败》。原来已经有朋友发现了罪魁祸首，就是 Alipay 的安全控件。从评论区盆友们的反馈看，问题是已经解决了。
评论区给出手动解决的办法。
# 第一种办法：停用支付宝的安全控件 sudo launchctl remove com.alipay.DispatcherService # 第二种办法：彻底删除（手动卸载）支付宝安全控件 sudo rm -rf /Library/Application\ Support/Alipay &amp;amp;&amp;amp; \ sudo rm -rf /Library/LaunchDaemons/com.</description>
    </item>
    
    <item>
      <title>『羞耻啊，我们居然没有敌人！』</title>
      <link>http://i.am.simonkuang.com/post/shame-with-no-enemy/</link>
      <pubDate>Thu, 29 Sep 2016 15:43:34 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/shame-with-no-enemy/</guid>
      <description>这篇文章阐述的是对我整个职场影响较深的思想之一。当年上大学，从《读者》上第一次读到这篇文章，觉得貌似很有道理，记住了。进入职场后，发现这简直就是某些看似不可思议、却又一遍一遍发生的事实的背后真理。后来知道它还有『鲶鱼效应』、『逃离舒适区』、『可以共苦不能同甘』等等不同的称谓。
转载自《南方周末》电子版。如有侵权请告知，会删除。
 我曾经在随笔中谈到过有关的士司机的经历。与其他城市相比，这种经历以发生在纽约的最为有趣，原因有三。
第一，纽约的司机来自世界各地，语言、肤色都各不相同；每个人都配有一张小牌子，上头写着自己的名字。因此，每次上车后，辨认他们究竟是土耳其人、马来西亚人、希腊人、犹太人还是俄罗斯人，就成了一件很有意思的事情。他们中的很多人总是通过“他们”自己的电台来相互联系，电台里说着他们的语言，播放他们的歌曲，因此，有时打的去中央公园就好像是打的在加德满都旅行。
第二，在纽约没有人把的士司机作为终身的职业，而只是把它当作一份临时工作；因此，坐在的士方向盘前方的有可能是一名学生、一位失业的银行员工或是一个刚来不久的移民。
第三，纽约的士司机总是成群结队地出现：在某个时期内，大部分司机都是希腊人，过一段时间后又变成了巴基斯坦人，之后又是波多黎各人，诸如此类。通过这一点我们可以观察到移民的浪潮以及各个种族的胜利：当某一群的士司机从这个行业消失时，就意味着他们碰到了好运气，声势壮大了，说明他们可能转移到烟草店、蔬菜店里工作，转移到城市的另一个区域生活，登上了一个新的社会台阶。
因此，除了能够观察的士司机个体的心理差异（有癔病患者，有厚道热情者，有投身政治者，有反对某主义者）之外，出租车更是一个观察社会现象的绝好场所。
上个星期，我碰到了这样一个司机：他是有色人种，名字很难拼，后来他告诉我他是巴基斯坦人。聊到这儿的时候，他问我是哪国人（纽约的外来人口相当多），我说我是意大利人，于是他就开始问我问题。看上去他似乎对意大利相当感兴趣，后来我才明白，他之所以有这么多问题，是因为他对意大利一无所知，既不知道意大利在哪儿，也不知道那里说什么语言（通常，当你告诉一个的士司机说在意大利人们讲意大利语时，他们都会感到很震惊，因为他们已经习惯性地认为全世界都在讲英语了）。
我快速向他描绘了一下，说意大利是一个半岛，中部是绵延的山脉，而周围则被一圈海岸线包围，那里有许多美丽的城市。当聊到意大利的人口时，他惊讶于意大利的人口居然那么少。随后他又问我意大利人是否都是白种人，还是多种族混杂，我向他大致解释说：起初，所有的意大利人都是白种人，但现在也有一些黑人，不过数量总比美国要少。他当然也想了解意大利有多少巴基斯坦人。我回答说，可能有一些，但比菲律宾人和非洲人要少。听了我的回答，他显得不太高兴，或许在想为什么他的民族不愿意去意大利这个国家。
我又傻乎乎地告诉他说意大利也有一些印度人，他立刻怒视着我：我不该把两个如此不同的民族相提并论，不该提起这个在他心目中如此低等的民族。
最后，他问起谁是我们的敌人。我问：“什么？”于是他耐心地向我解释说他想知道意大利人目前正和哪个民族进行战争，不管是为了领土争端、种族仇恨，还是边界侵略等其他原因。我说我们没和任何民族打仗。他继续耐心地问我谁是我们历史上的敌人，也就是那些和意大利人相互残杀的民族。我再次重申我们没有这样的敌人。最近的一场战争发生在五十多年前，即使是在那场战争里，我们也没有搞清楚过究竟谁是我们的敌人，谁又是我们的盟友。他对我的回答很不满意，并坦白地告诉我说他认为我在撒谎。一个民族怎么可能没有敌人呢？
那件事就到此结束了，我为本民族这种麻木的和平主义而多给了他２美金的小费。但我一下车就忽然想起了本应该在刚才告诉他，却一时没有想起的正确答案。这种现象被法国人称为“ｅｓｐｉｒｉｔ ｄ＇ｅｓｃａｌｉｅｒ（马后炮）”。
我应该告诉那个司机意大利人是有敌人的。但那种敌人却不是外来的敌人，他们也根本无法确定谁是自己的敌人，因为他们总是在内部持续地争斗。意大利人之间总是在斗争：城市跟城市斗，邪教与正教斗，阶级跟阶级斗，政党与政党斗，同一政党中的成员相互斗，大区跟大区争，政府跟司法部门争，司法部门又与经济部门争，国家电视台与私人电视台争，联合政府之间的成员互相争，部门与部门争，报纸与报纸争。
我不知道那个司机是否能听懂我这样的回答，但如果我刚才这样回答他，作为一个没有敌人的国家的公民，至少不会丢脸。</description>
    </item>
    
    <item>
      <title>读评：小白兔和野狗的生路何在？</title>
      <link>http://i.am.simonkuang.com/post/wild-dog-and-white-rabbit-are-both-necessary-for-a-company/</link>
      <pubDate>Wed, 28 Sep 2016 23:19:25 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/wild-dog-and-white-rabbit-are-both-necessary-for-a-company/</guid>
      <description>最近被徐新女士的《用人问题上，“野狗”和“小白兔”都要干掉》一文刷爆了朋友圈，有些很少转载鸡汤文的朋友也转发了这篇文章，且转载的朋友中几乎都是自己创业或做管理的朋友，看来此鸡汤很对大多数创业者、管理者的胃口。
虽然大家普遍觉得这碗鸡汤营养很好，我还是觉得它鸡精放太多——鲜而犯腻，而在这个食材也就是观点上有偏颇。从篇幅上看，徐新女士演讲稿关于人才怎么用的篇幅并不大，演讲稿的书面内容与标题表达出来的笃定语气不太相符，猜想这个标题是标题党后来扣上去的。不过影响这么大的文章，我还是想忍不住说两句。
首先要说的是分类的问题：什么是小白兔员工？什么是野狗员工？ 按照前导文给出的答案，野狗员工业绩好，但价值观不好（人品不好，吃回扣等），小白兔员工则兢兢业业，勤勤恳恳什么都好，价值观和勤奋都没有关系，就是人没有什么贡献。相对应的，价值观好、业绩好的是明星员工。
从定义中可以看出来，徐女士从价值观和业绩两个方面来评判一位员工属于哪一类型。虽然我并不觉得把所谓『价值观』列在对员工的评判维度——注意此处不是*评价维度*，评判带有判决或者盖棺定论的意味，因为这次评判是徐新女士建议对部分员工做处理的依据——里面是公平的，不过这个地方我就先不展开，姑且按照文中这个思路来。
补充一下，我也并不认为那些会把『猴子』抛给领导的员工属于小白兔员工，他们是小孩子和心机婊。我也不认为那些完全不能跟公司提供的平台和平共处、准备捞一票闪人的员工会是野狗，他们业绩再好也只是祸害。
其次，我们做企业的目标到底是做事情还是甄选明星员工？ 这个问题我想除了 HR 之外，大家应该都选择前者吧。如果两者有冲突，一定是先事情做好，活下来，再考虑打造明星团队。活下来，活得更好，才是我们创业的目的。专职打造明星团队是 MBA 做的事情。
那么我反问两句。第一，那么能够创造业绩的野狗员工为什么不能留？因为野狗员工会带坏企业氛围？那你一个管理者创始人干嘛去了？你招聘的 HR 干嘛去了？这个问题瞄准一个目标，你的企业到底是谁在影响团队。在回答之前，先好好想一想这个问题，出了野狗，到底是野狗的错，还是你的管理策略有失误。第二，兢兢业业做好本职工作的小白兔员工为什么没有业绩？难道兢兢业业不对吗？到底出了什么问题？这个问题瞄准的是，到底谁该对公司的战略和战术负责，是老板还是中层管理还是员工。同样，想一想再回答这个问题。
讲第三个问题之前，先要搞清楚职场岗位职责分工是怎么回事？以及为什么要有岗位职责的分工？全体员工动员起来，参与管理的『阿米巴模式』到底好不好？ 包括我身边一些朋友，哪怕他们自己身居企业高管的位置，仍然没有把『岗位』和『岗位职责』区分开来。比较有代表性的观念包括：『*我们一个创业小公司，搞那么多岗位干什么？谁意识到问题、谁有能力，谁补位就好了*』，以及『*「排除万难做好工作」、「创造条件也要上」是一线员工应该考虑的事情*』。我认为一个团队之所以为团队，不是一个团伙，很重要一点是团队更有『规矩』：分工明确，配合可靠。理想情况下，应该能够放心地把后背交给你的队友。在一个完整的团队中，一定要有清晰的分工界面，明晰每个岗位对应的职责。哪怕团队成员不多，我们可以一人多岗，也一定不能模糊岗位职责。唯有此，每个人才能清楚自己的前后左右都由谁负责，才知道一旦出了问题自己应该找谁沟通，才能放心而专注地完成自己份内的工作。也唯有此，团队整体效率才有可能等于或大于个人效率之和，发挥出协同效应。
有句话忘了谁说过，『没有做过好员工的老板都不是好老板』。这个『好老板』我理解不是指员工说老板好，而是这个老板能带领团队产出高业绩，带大家一起吃肉，这样的老板才配叫好老板。而一个做好过基层工作的老板，一定会给员工创造一个更专注本职工作的环境。在他的团队里，员工消耗在非工作沟通、管理甚至自我管理上的精力要尽可能地少，他的员工可以心无旁骛在本职工作上专注，全情投入，团队整体的价值是大于单个员工价值相加之和的。这样的团队，才是一个员工和领导各司其职的团队，才是一个上下层配合默契的团队，才能称得上是一个高效的团队。
其实不论什么样的团队，它比个人单打独斗更高级的地方都在于：团队合作的效率高于个人价值。一个团队，如果不关注产出成果的效率，而注重它究竟要是一个怎样的存在，这叫『买椟还珠』。所以，无论是小白兔还是野狗，只要做到让他在团队中充分发挥价值，让他对团队利大于弊，完全可以留，这不是什么一定会有冲突的事情。反之，用不好这类人，觉得不能用，辞掉就好。完全没必要上纲上线到把员工做一个分门别类来设置教科书。
至于最近看到有些公司又开始追捧阿米巴模式，号称自己的团队平等、自经营和自管理等等，我想问的是：你的员工真的可以全情投入到你们的事业中去吗？你为创造这种全情投入的环境，做了些什么？假如他能全情投入工作，他的职业规划在你的设计中吗？社会的发展和同行的诱惑就在那里，总不能简单归结为个人差异，然后回避吧。
最后，小白兔和野狗就一无是处了吗？一定要除掉小白兔和野狗吗？ 我自己带过各种团队，有自己培养的嫡系，有空降切别人的团队，有作为甲方带外包做项目，也有在被甲方指挥的外包团队里面干过…… 这么多经历总结起来就是，一个团队成员一定要具备多样性，这个团队才是完整的，才能有成长的生命力。一个团队的领导如果眼睛里揉不进沙子，对下属像处女座选媳妇儿一样追求完美二字，这个团队的效率和克服困难的能力，一定不会强。
所以还是上面表达的观点。『有教无类』，关键看你怎么用。野狗员工为了业绩无所不用其极，他们为团队做了不好的示范，但他们也能帮你发现新的业务增长点；小白兔员工为了自己的安稳两耳不闻窗外事，做老郝先生做自己份内的工作，但他们通常也会承担别人不愿意干的脏活儿累活儿。只要不是特别抵触工作，或者处处与人为敌，每个人都可以有他的位置，就看做领导的怎么安置而已。
PS：抢救出来的一篇文章，险些烂尾。做教训，牢记。2016.09.28 于成都</description>
    </item>
    
    <item>
      <title>从技术管理 title 看公司的技术解题思路</title>
      <link>http://i.am.simonkuang.com/post/routines-from-the-title-of-technology-manager/</link>
      <pubDate>Mon, 19 Sep 2016 21:43:57 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/routines-from-the-title-of-technology-manager/</guid>
      <description>互联网技术线的职业发展轨迹到今天已经很清晰，大体来说两个选择，要么继续深入走技术专家路线，当个架构师、研发专家，向计算机科学家方向迈进，要么转管理路线，从小组长做起，向 CTO 迈进。
这是正向的。反向，从一家公司技术负责人的 title，也能看出这家公司在技术方面的解题思路及现状。
1、招聘组长 / leader / 主管的，注意留意这家公司最近招聘攻城狮的岗位 JD。 通常直接在 JD 里面说招聘 leader 一类 title 的非大厂企业，通常的意思是：我们需要一名高级攻城狮。至于你能不能胜任 leader，需要在工作中观察。不过不管怎么说，能把 leader 提出来单独招聘，是有意识在补充团队的中坚力量，应该给个赞。
这一类企业，留意他们最近招聘攻城狮的 JD，一个是 JD 中的任职要求，是否有侧重点，是否描述清晰，大致可以看出这个团队遇到了什么问题。第二是看看攻城狮 JD 中的薪资范围，可以从侧面了解这家公司攻城狮的待遇水平，也可以看出公司对这个角儿的期望，是个管培生，骨干，还是个救火队长。
2、招技术总监的，企业是希望用管理手段来修补技术问题。 技术总监的职责偏管理而非技术，这是大家都有共识的。公司少一个技术总监，言下之意就是公司觉得技术管理上出了点问题，需要个人来补救。再换个角度翻译就是：希望通过技术管理来提（ya）高（zha）技术团队工作效率。
走技术总监这条线，等于就是走技术管理路线了。而且，一定是管理工作大于技术工作。
3、招架构师 / 首席架构师 / 研发专家的，通常是需要一个救火队长，少数是准备做大~~~项目。 架构师 / 首席架构师 / 研发专家这几个 title 是在技术线的，现实中很多企业里面已经是到技术线顶端了。
需要这类角色的企业，不少是需要一个能带队、独当一面的技术骨干，有不少企业在招聘的当下还面临一堆代码腐烂的系统，和一个问题重重的团队。能应聘这个职位的，跟应聘技术总监类似，入职后都要面临非常大的挑战，不同的是管理层的期望。能放出这个 title 的空缺，企业管理层是期望用技术的手段来解决现阶段面临的问题。
4、招 CTO 的，要么是一穷二白的创业小作坊，要么是高管层对产品的把控已经一筹莫展。 首先明确，CTO 在一家职能完备的企业里面，是高管角色，背的业务指标的，关心的是产品技术团队为公司业务增长提供多大的助力，对一个产品能不能实现、实现得好不好，他不负直接责任只负管理责任。同时，也意味着 CTO 对公司的主要业务必须非常熟悉。
创业小作坊招 CTO，基本上都是期望用 title 吸引住人才；而稍大一点的企业招 CTO，释放出来的信号是，高管层希望有人能通过对产品工作全权负责，来保增长促发展。
不管怎么说，就像 Fenng 自身遭遇的事情一样，CTO 这个角儿不好做。
另外还有一种常见的技术高管 title，叫『技术 VP』。这个基本上是活儿照干，但是不享受最后胜利果实的意思。企业招这个角儿的意思通常是：需要这么一个背业务指标的技术高管，你很合适，但又觉得你对企业带来的收益不高，比如没有一个好履历不方便放出去拉融资，所以把 CTO 的位置空缺，等遇到更合适的人，随时把你一脚踢开。
如果不是公司大到一定份儿上，招这个角儿的公司都是在耍流氓。
作为一名技术出身、想要升阶的求职者，首先搞清楚自己的期望，然后选择合适的职位去求职。不管最终选择什么样的岗位，都需要做好一件事：管理好别人的期望。而一个连自己的期望都管理不好的人，肯定没有办法管理好别人的期望。</description>
    </item>
    
    <item>
      <title>日常随记</title>
      <link>http://i.am.simonkuang.com/post/fuss-about-life-on-20160831/</link>
      <pubDate>Wed, 31 Aug 2016 20:53:48 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/fuss-about-life-on-20160831/</guid>
      <description>今年 今年还真是一个特别的年份。夏季刚来不久，天还没到最热的时候，老丈人就过世了。等入了伏，我们听了一整个夏天的救护车呜呜声。吃饭的时候，『呜呜呜呜呜』；在街上散步的时候，『呜呜呜呜呜』；坐公交车上，『呜呜呜呜呜』…… 有一次在家吃饭，救护车从楼下过了四次。重庆婆婆家楼上有老俩口和小儿子同住，结果做保安的小儿子下班回家，发现老俩口热死在家里——他们家竟然没有装空调。还有最近心脏猝死的山东大学生们。没有熬过今年的人，好像特别多。
另外，今年的蝉也特别多，多到建行放 ATM 的小门面里，小小不足十个平方，一到晚上，容纳了不下十只蝉，到处飞肆意闹。早晨出门，街边随处可见死掉的蝉，有些还趴在汽车前挡玻璃上，裸露在晨光里。鬼知道今年哪儿来这么多蝉。
自己动手 Homebrew 是 MacOS 下不错的工具，一个包管理器，码农最爱。不过人家一直没出稳定版，最新的好像才 0.9.9。最近就遇到一个不爽的事情：php56-grpc 这个包安装不上，编译阶段报错。仔细一看，原来用的扩展版本是 0.5.1 beta，人家扩展已经到了 1.0.0 stable，难怪。
于是干脆，自己修改 formular 升级，并提交了 PR。爽。中间顺带还解决了 ext-grpc 的一个 bug。
同时也深深感觉谷子哥家的东西，还真不是一般人能够触碰的。你要用，你就得懂。各种依赖，甚至于对他家私有库的依赖路径，都大大咧咧放进来。一旦遇到报错，要是没耐心跟还真不知道该怎么弄。幸运的是，这次人家就犯了一个小错误，改起来特别简单，顺手改完提交一下。
开放平台 蚂蚁金服成了互金行业名副其实的霸主，前段时间机构找个人投资者接盘蚂蚁金服股权的爆料显然并没有阻止它的快速成长。参照阿里系其它业务的发展轨迹，料想蚂蚁金服最近两三年会有个非常漂亮的成长曲线。
昨天才发现，蚂蚁金服在这个月（八月十日）发布了开放平台。
互金的开放平台还真不多见。印象中支付宝的开放平台做了一段时间之后，很快也就不能完全『开放』，半遮半掩地走着，运营上也完全没有再推。微信的开放体系中，与互金有关、涉及到支付的部分一直就没稳定过，从我亲身经历的项目来看，貌似财付通的技术限制让人捉急，不过也从来没看到微信从运营上推这部分的业务，反而是申请相关权限的时候接受审核力度很大。其它家，像什么京东、百度、腾讯开平…… 几乎都很少放开与金融相关的功能。特别是创业以来，我自己接触互金行业之后，感受到如果真放开的话，这其中的问题非常多，实际操作的时候平台侧会承担相当大的风险。因此，看到蚂蚁金服（支付宝）在如今开放平台遍地开花的时候再次推出自己家的开放平台，怎么说呢，一方面吃瓜看个热闹，另外一方面还真想看看他们会怎么去做这个事情。搞不好，金融行业真能因此进入『互联网+』的时代。
这是个不断触碰监管者 G 点来做创新的行业。希望蚂蚁金服能在除了『流量营销』和『会员管理』之外拿出更多有意思的玩儿法。</description>
    </item>
    
    <item>
      <title>PHP 的 GRPC 扩展的安装修复</title>
      <link>http://i.am.simonkuang.com/post/grpc-for-php/</link>
      <pubDate>Wed, 31 Aug 2016 16:17:17 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/grpc-for-php/</guid>
      <description>php 的 grpc 扩展在八月十八日已经到了 1.0.0 stable。很高兴的，终于到了一个 stable 版本。这意味着，在 php 中将 grpc 应用到生产环境会安心许多。一些不太稳定的特性或功能，会被排除在发布版本之外，用起来顺很多。
可惜的是，这个 stable 版本貌似在安装环节并不稳定，安装过程中分别会在 configure 和 make 环节报如下的警告与错误。
在 configure 环节的警告：
... checking whether to enable grpc support... yes, shared ./configure: line 4107: cd: ../../grpc: No such file or directory ./configure: line 4138: cd: ../../grpc/src/php/ext: No such file or directory ./configure: line 4169: cd: ../../grpc/third_party/boringssl: No such file or directory checking for ld used by cc... /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ld ...  在 make 环节就直接报错退出：</description>
    </item>
    
    <item>
      <title>再次问候方校长：我们受够了功夫网</title>
      <link>http://i.am.simonkuang.com/post/evil-headmaster-fang-binxing-and-his-gfw/</link>
      <pubDate>Thu, 25 Aug 2016 12:36:41 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/evil-headmaster-fang-binxing-and-his-gfw/</guid>
      <description>(UPDATED) 2017-08-17: ssserver 提供服务器端的支持；sslocal 转本地 socks5 服务；再用 privoxy 提供 http/https proxy。 经过试验，这样的解决方案是最全面的了。
至于梯子哪家强，你问我，我不会不告诉你。O(∩_∩)O哈哈~
 对于功夫网不问青红皂白直接予以封杀的行为，程序猿的一贯态度是问候方校长。有些的确敏感的都不说了，facebook 旗下的工具网站 Nuclide 也被封，之前还有 Python 因为一个特定版本号被封的往事…… 各种搞笑和不能理解的规则，生活在兲朝的程序猿这种生物天生比国外的低矮一截——纯粹因为生存环境的关系，导致看世界不完整。
前两天做 grpc 的调研，为了简洁，安装 php-grpc 时准备就直接用 homebrew 搞定。brew install homebrew/php/php56-grpc，一句命令安装，升级维护也省心。
可是安装 php-grpc 的依赖却出了问题。protobuf 在 homebrew 中是从源码开始安装，用的是 protobuf 自带的 autogen.sh 脚本，脚本中正好从 googlemock.googlecode.com 域下载 googlemock 一个特定版本的发布包，因为 shell 默认不会走系统代理（我用 shadowsocks 科学上网，这是我的梯子，这是下面所列方法的前提。如果你连梯子都没有，可以不用往下看，没戏），会导致下载失败。
英雄汉不能被一泡尿憋死。折腾一会儿，终于找到办法。
后来想想，自动化脚本里面其实挺多这种应用场景的，没谁写个脚本还要兼顾其它国家特色网络，那技术宅成天别干别的事儿，光跟堂吉诃德战斗好了。因此，记一下吧，以后用得着。
下面提供两种办法供选用。两种都简洁，改动都不大，主要看应用场景和个人的习惯吧。
方法一：修改下载程序配置 protobuf 安装脚本中的下载程序使用的是 curl，因此先得配置它。新增或修改 ~/.curlrc 这个文件，加入 socks5 这个选项（因为 shadowsocks 是用的 socks5）。
# 我用的是影梭，所以设置 socks5 选项 socks5 = 127.</description>
    </item>
    
    <item>
      <title>一种治疗疖肿的药剂专利</title>
      <link>http://i.am.simonkuang.com/post/a-patent-for-perianal-abscess/</link>
      <pubDate>Mon, 22 Aug 2016 19:31:53 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/a-patent-for-perianal-abscess/</guid>
      <description>今天在网上看到一个方子，是治疗疖肿（肛周脓肿）的，还申请了国家专利。按照药物专利的申请流程，会要求药理实验。专利文末也确实提供了实验数据及数据来源。效果看起来非常不错（90 个案例，81 例痊愈，9 例好转），值得推荐。PS：拿来做商业用途的别忘了给人缴纳专利费用。
另外，肿节风胶囊治疗疖肿效果很明显，性价比非常不错，也很推荐哦。</description>
    </item>
    
    <item>
      <title>互联网创业怎么做产品技术规划（一）</title>
      <link>http://i.am.simonkuang.com/post/how-to-take-a-product-off-to-beta-effectively/</link>
      <pubDate>Wed, 10 Aug 2016 15:00:13 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/how-to-take-a-product-off-to-beta-effectively/</guid>
      <description>  从鹅厂出来之后的这几年，在创业公司做了很多产品技术方面的实践工作，得到一些关于产品技术管理方面的心得，这部分比实际完成一些什么样的系统设计和开发更加宝贵，这是有钱都买不来的。后面一段时间，我尽量将这些心得以博客文章的形式写出来。 之前尝试过大而全和分章节的描述手法，在废弃了十版左右的草稿之后，决定还是用随笔的手法吧，划定一个小范围，想到哪儿写到哪儿，不拘一格。大而全格局太大，自己荒废了很长时间没写文章，把控不住；章节形式专业性太强，没做好写论文的准备，就不拿一些带主观心得的东西贻笑大方了。
 相较于我刚开始学互联网编程的那段时间，也就是二十一世纪初的那几年，现在的互联网盈利模式更加清晰，业务和产品趋于红海竞争，值得去尝试的蓝海领域越来越少。带来的一个好处是：产品技术方面能够复用的东西越来越多。
举个现实中的例子。因为花椒、映客等等关系，最近遇到一些朋友想要做直播平台，要我给他们建议。我大致估了一下，质量上以产品原型计，大约有百分之八十以上的组件，包括比较难的 P2P、DHT、CDN、视频实时压缩等都有成熟的第三方解决方案，只有涉及到所谓『痛点』的大约百分之十几的那部分逻辑需要自己去做。这些成熟的第三方解决方案不管是开源软件也好，还是云服务的方式也罢，都能避免创业者重复造轮子，大幅降低开发维护成本，还能提高用户体验。
然而更厉害，就算是差异化的那百分之十几的逻辑，我们现在也可以利用工程化的手段让它们的产出更加高效更加顺畅。
最近一年我在创业公司积极推进一件事情，就是把初级工程师的成果有效化。出发点是帮助公司降低对工程师水平的依赖，用技术手段提高工程师的工作效率，提高输出成果的有效性。这事儿说透了也很好理解：既然创业公司的项目需求更多是原型实现，并且还有那么多可靠的第三方资源可用，技术团队也就更像是在做集成，而不是技术创新，对工程师的初始能力要求不应该特别高。当然，公司肯定也会同意，因为省钱嘛。o(╯□╰)o
创业公司对初级工程师倒不一定有什么特别的偏好，不过创业公司的 boss 们大多对技术人才无法做到『准确识人』，这是事实。有时候哪怕他们自己想找一些大牛合作，也苦于无法辨别。就算找到真正的牛人，在工作方式方法上通常也会出问题，至少是让其能量发挥不出来。所以干脆的，很多创业公司 boss 与其花冤枉钱碰运气找大牛，不如直接找初级工程师先实现原型好了。很无奈，也是事实。既然是事实，我们首先得尊重它，而不是抱怨，然后才能往后考虑，怎么样改进。
当然，先解释下：依靠初级工程师实现的原型在技术上是不是能够拥有可扩展性，今后是不是可以生长和健壮起来，是个问题。考虑到这是架构师在开工之前需要完成的设计工作来决定的，不可能指望初级工程师去完成，所以这点不在我们今天的讨论范围之内。所以首先，假设我们有一位有能力有担当并且对项目理解深刻的架构师吧。
话说初级工程师的工作一般都不可靠，特别在他们工作拥有自由度的时候，自由度越高则可靠性越差。要提高初级工程师的工作有效性，首先考虑的是怎么『约束』他们，降低他们可以自由发挥的空间。这个思路跟现在流行的互联网『颠覆』的观点可能会有点相冲——你把空间限定死了再做事，还谈什么互联网颠覆呢。不过我认为，就现实中的中小公司创业环境，技术上的创新总是局部的，否则研发成本太高，就是作死，运营和产品上的创新才是具有颠覆性的关键。
通常我给初级工程师『画地为牢』限定他们工作空间的办法有下面几种。
 必须全程参与需求评审，独立完成功能设计文档。会议和文档化是让很多工程师头痛的两件事情，但是在任何团队中，首先要保证的大家目标一致，花点精力在统一目标上，经验告诉我们，绝对值。 统一的代码风格和注释要求。每种语言都有好多种代码书写风格，团队统一采用一种就好，这没什么可争辩。至于注释，最好也要统一一下要求，以便工程师可以在代码中合理添加注释。代码风格可以通过 lint 来检验，而注释则只能通过代码审核的过程，人工指正。 代码审核后才能合并到开发分支。一方面是代码的质量控制，确保代码仓库里面的代码都是有效代码；另外一方面，代码审核恐怕是帮助这些初级工程师成长最快的方式。一个好的 reviewer 胜过任何职业培训学校里面的任何授课老师。 一个严厉的非黑即白的框架。我不会浪费时间跟初级工程师在技术方案的可行性上做探讨——你当然这样做也能实现功能那样做也能实现功能，但你就是得按照我说的做。整个团队都是这样。没得商量。而保证这一点的最佳手段，就是用一个非常严厉、越雷池半步就报错的框架。 统一的开发环境和部署环境。同样，我也不会在这方面跟工程师们有太多商量的余地，必须统一。部署环境由于涉及到运维的配合，与用框架不同一样，从一开始就必须大家都统一。不同的是，开发环境这方面我通常会给工程师们一个过渡期，过渡期内我会推荐我认为效率最高的系统、IDE 甚至 IDE 配置文件，并且提供支持。通常来说，一到三个月的过渡期之内，就能把这事儿统一下来。 保持一致的沟通腔调。技术上，各种专有名词和特定的描述方式很多，沟通中大量使用专有名词虽然有时候看起来很装逼，但这样的确可以大大提高沟通效率。对初级工程师，以及我们的产品经理同学，通过在文档、会议中不断加以引导的方式，来强化他们对一些常用名词和描述方式的概念，让他们既能懂也能用，从而提高整个团队的沟通效率。  这样执行之后，做执行的工程师基本上不再可能有什么自助发挥的余地，就像谷歌技术团队的风格：一千人写的代码，读起来就好像是一个人写的。无论是代码和注释的书写风格，功能实现的方式，都是一致的。这样的代码就算放个两三年换个人来维护，也没有障碍。
另外一方面，想要提高工程师效率通常意味着激发个人的积极性，释放他们的工作热情，同时帮助他们扫清工作之外的障碍。从字面上理解，这和上面限定他们的空间相左。说细了，不矛盾。
 统一的开发环境、沟通腔调，降低沟通中的障碍。在拥抱变化的场景下，沟通随时随地都在发生，如果不能把沟通过程做顺畅，尽力消除沟通中的阻碍，工作效率自然没法儿提高。初级工程师最容易遇到的问题就是遇到问题表达不清晰，想帮助他也无从下手。统一开发环境、沟通腔调，团队成员基于一个场景在沟通，效率自然就提高了。 把开发流程中重复的步骤工具化。例如：分情况 pull 代码；根据事件和关键词创建新分支；检测代码风格；部署代码到线上之前跑单元测试；部署代码到线上服务器；排查应用日志…… 如果每次手动做这些事情，势必影响编码的连贯性，把它们做成工具，每次运行一两条命令就可以完成一件事情，不仅可以提升工作效率，还可以提高试错的次数，小步快跑、敏捷迭代。 研发生命周期的管理从头到尾要做好，对工程师尽量友好。工程师只有一个工作是有效的，就是编码，其余的工作都是辅助，不能直接产出价值。所以，工程师越能专注地编码，生产效率越高。除需求评审和写文档之外的必要开销，确保工程师大部分工作能够在两到三个界面完成，是最优的结果。这就需要团队能有一套很好的研发管理系统，不是松散的几个第三方工具，而是一个有机的整体，涵盖整个研发生命周期。听起来很高大上，可喜的是，对创业公司也有第三方的选择，只不过需要自己做集成。 生产环境要有带检索的日志系统和调试工具。这个就不说了，也可以看做是从第二点中延伸出来的。单独提是因为，线上排错不知道坑了多少工程师的时间，熬夜加班，专门等午夜人少时重现错误，说多了都是泪。浪费的时间不是一点半点。  能帮工程师把编码之外的工作梳理清楚，减少他们被干扰的次数和时长，对于提高生产效率，规避编码中的 bug 效果很好。虽然上面几点在创业公司里面实施起来有些难度，但做总好过不做。况且，其中一部分已经有第三方成熟的解决方案，具体实施的时候只需要做集成即可。
在是给与工程师一个明确的施为空间，帮他们扫清编码障碍之后，技术团队在执行阶段的高效率，维护阶段的清爽，都是可以预料到的。这些准备工作虽然表面看不到有什么明显收益，但是对于公司在中期对外连续作战帮助非常之大。
附录一：推荐的几个第三方工具和服务  代码仓库：gitlab。同时基于 gitlab 的 web service hook，还可以扩展出涵盖大半段研发生命周期的系统，以此完成工具化的搭建。 需求管理：tower。这个纯粹是个人习惯，其实 worktile、trello、teambition 等等都不错。tower 虽然也有 api，可以做信息流集成，但貌似只限于收费的 Pro 版。 OS + IDE：Linux + vim。作为后端码农，这是不二选择。在这个前端要会用 linux 的时代，不会 linux 不能作为理由，只能是工程师自己的耻辱。前端码农根据项目不同，酌情选择更优的 IDE，例如 xcode（iOS APP）、atom（React）、Android Studio（Android APP）等。 后端开发框架：Laravel（PHP）。作为一款大量应用现代语言特性的开发框架，laravel 的缺点也是它的优点：太多的新特性，让初级工程师困在它规划好的地盘里，只能照做。  </description>
    </item>
    
    <item>
      <title>真正让你疲惫的，是脚底的砂石</title>
      <link>http://i.am.simonkuang.com/post/the-gravel-but-not-a-peak-let-you-exhausted/</link>
      <pubDate>Fri, 05 Aug 2016 20:15:31 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/the-gravel-but-not-a-peak-let-you-exhausted/</guid>
      <description>很早以前听到过一个小故事，大意是说，一群人兴高采烈去登高山。爬山的过程中慢慢开始疲惫起来，这种疲惫和累不一样，是无论怎么休息都无法缓过劲来的。大家一步一捱往前挪着，一点儿没有了刚开始的高兴劲儿。后来在一处岩石边休息的时候，遇到另外一个有经验的登山人，告诉他们：脱下鞋子，抖掉鞋子里面的砂石。他们按照登山人的提示，再出发果然舒服多了，感觉整个人清爽起来，疲惫也散去很多。原来这座山留在山路上的砂石较多，很容易溅到鞋子里，溜到鞋底去。砂石小，虽然硌脚但是不太严重，总去抖鞋子砂石麻烦，一般人也就忽略了。小砂石硌脚时间长了，人就容易疲惫，爬山也不得劲。虽然都是一群爱好爬山的人，爬起山来却觉得没有什么意思似的。
这个故事最后告诉我们：真正让人止步的，其实不是险峰，而是脚底的砂石。
机械键盘 家里有黑轴和青轴两个机械键盘，因为是刚用机械键盘的新手，爱好青轴，噼哩吧啦，感觉挺带劲。但不知道为什么，用青轴的时候思维一旦出现停顿，很容易就分神。开始也没特别注意到这个问题，直到昨天晚上换了黑轴做事。忽然感觉思维的停顿在用黑轴的过程当中，是一件挺享受的过程，键盘就像不存在一样，你需要动手指头的时候，它在那里，你需要思考的时候，它也不吵你。不像青轴，连续打字的时候它的响应很及时很带劲，中间一旦有停顿，它的这种响应就成了吵吵。
换了黑轴之后，明显感觉写东西的效率高了很多，尽管还是感觉黑轴偏硬，而且国产黑轴有粘滞感。
看似差不多的键轴，区别大了。
饮水机 公司只有一台饮水机，坏了还没修，没热水，就先买了电烧水壶顶着。发现这两天时间里，喝水少了好多。
电水壶的水烧开不用很快就凉，泡茶不能用凉水，每次续水之前都烧一次又嫌麻烦。之前是口渴就喝，喝完直接从饮水机续水。现在是口渴了喝，喝完烧水，烧完水之后有大约一半的概率会忘掉，电水壶的水接着又凉掉，等到又要喝水时发现，现烧已经来不及。
常坐着的职业，喝水少了容易得肾结石，明明懂的道理、已经养成的习惯，却因为小小的饮水机坏掉而丢掉。
今天带了家里的保温壶来，电水壶烧开水之后灌壶里待用。感觉世界又和平了。
有时候我们想尽量想避免这些烦人的情况，像登山人抖掉鞋底的砂石。费神费力不说，如果团队的搭档没有意识到砂石的威力，他们总会觉得多此一举，不理解你的行为，谈不上支持甚至会阻挠你。这种不理解和阻挠也是一种砂石，时间长了，不找到办法沟通协调，也会让你望险峰而止步。</description>
    </item>
    
    <item>
      <title>致一位逝去的同事</title>
      <link>http://i.am.simonkuang.com/post/cherish-an-ex-colleague/</link>
      <pubDate>Sun, 17 Jul 2016 23:52:29 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/cherish-an-ex-colleague/</guid>
      <description>刚在写点东西，整理关于创业这一年的收获和感悟。朋友圈里面忽然看到龙哥转发的消息《“在大陆互联网走得最远的台湾人”——胡同台妹去世》。
讲真的，很惊讶。胡同台妹的称谓我是离职后很久才从网上知道，『哦，原来胡同台妹就是宫铃啊！』倒是她的本名我更熟悉一些。但也就是熟悉名字而已。
零八年那会儿，我在凤凰网供职，农科院信息楼，工位在四楼格子间，封闭开发时经常占据二楼会议室。二楼的办公位因为不是凤凰网租用的，我们只在二楼有两间会议室和一间小小的编辑办公室。得因于此，二楼阳台是开放状态，直接与楼道连通，会议室和编辑办公室都直接与楼道相连。记得那会儿经常有抽烟的同事会在二楼的阳台上认识、聊天。
经常看到宫铃女士也是在那种场合。我不抽烟，也闻不得烟味，就是进出会议室和楼道之间的时候经常碰到。他们那会儿好像经常因为选题开会，当然也是在二楼的会议室。开会久了，有烟瘾的同事就会三三两两出去阳台透气、抽烟，宫铃女士经常出现在他们之间。我印象中她是更喜欢独自一人去阳台的，很少招呼别人陪她去抽烟。若是在阳台上碰到同事也会交流两句，说的多是工作。除却工作的交流很少。有一次，她跟我们做技术的同事在阳台闲聊，讲些家长里短被我看到，那是我印象中绝无仅有的一次。
我在凤凰网供职期间，跟宫铃女士可能总共说过不超过十句话。听别的同事说起，才知道这位『小个子，很礼貌很有修养，说话做事干练，有点时髦（指抽烟）』的女士是在帝都的台湾人，而且是在两岸话题上有些知名度的媒体人。严格说那时我算初入职场，对处在这样高度的同事，自然是敬佩有加。这种敬佩之情在我得到她『胡同台妹』的网名后更加一筹。
认识宫铃女士那会儿，马英九还没当选。今天她离开，蔡英文已经完成就职演说快两个月。整八年有余。
祝愿一路走好！天堂里面自有祥和。</description>
    </item>
    
    <item>
      <title>Windows7 运行 VirtualBox 虚拟机的一则错误</title>
      <link>http://i.am.simonkuang.com/post/loading-error-on-some-special-version-win7/</link>
      <pubDate>Sat, 14 May 2016 21:20:45 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/loading-error-on-some-special-version-win7/</guid>
      <description>前段时间重装系统 Windows7 之后，在其上安装 VirtualBox 却总是无法启动虚拟机。最初是根据经验对 VirtualBox 版本进行降级，但是没有效果。后来问谷子哥问到了答案，修复之。
因为网上的各种答案均需要重启进安全系统或者 PE 系统，还需要自行搜原版的系统文件覆盖系统中现有的，一个不小心用了不恰当版本的文件替换，导致无法进入系统才是杯具。大家都知道 windows 各种 SP 众多，各 SP 之间的文件不一定是通用的，这个问题还是需要小心的。
而我的办法很简单，一句命令，一次重启，搞定（前提，你的系统没有被『优化 C 盘空间』，否则你还是折腾替换文件去吧）。
先说错误的提示。关键是下面这一句
 Unable to load R3 Module
 原因是：某些 Windows 的改良版本为了解决 Win7 第三方主题装不上的问题，把 uxtheme.dll 进行了『破解』，这种破解导致 VirtualBox 调用 WinAPI 失败。
解决思路：将 uxtheme.dll 恢复成原版的即可。网上的思路是利用重启到安全模式或者 PE 系统中进行文件替换，我的办法是用 windows 自身的 system file scan 工具来完成（只需正常重启一次）。
解决办法：
 1、打开『命令提示符』，执行下面的命令： 2、sfc /scanfile=%systemroot%\system32\uxtheme.dll 3、正常重启，启动虚拟机，搞定。
 当然，第三方主题应该是用不了。这个得失你得自己权衡。按说能玩儿虚拟机的主，对个把不产生生产力的主题，应该是可以放弃的。哈哈~~~</description>
    </item>
    
    <item>
      <title>一则科学鸡汤</title>
      <link>http://i.am.simonkuang.com/post/a-science-soul-article/</link>
      <pubDate>Mon, 11 Apr 2016 23:49:57 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/a-science-soul-article/</guid>
      <description>前段时间在朋友圈里面看到一篇文章，确切说是一篇鸡汤文，他介绍了『最速曲线』的概念。
最速曲线也叫『最速降线』是用来描述物体怎样最快从一个高位点运动到低位点的。在最速曲线上的物体，其运动有一些特殊的特点，这些特点也给我们很大的启发。
 生活中的事情，直线前进往往都不是最快的。太理想化。 从表象看，沿着最速曲线前进的过程，是一个不断调整目标的过程。 冷启动的时候要注意势能转化，顺大势而动，会省很多力。 但在冷启动的时候，太急于将势能转化为动能，反而会欲速不达。 无论从最速曲线上哪一个点启动，运动轨迹都是重合的（最省力的路径都是一定的）； 无论从曲线上哪一点出发，达到终点的时间都是一样的。但后出发的一方势能要更大才行。  下面是原文
  送给大家，共勉之。</description>
    </item>
    
    <item>
      <title>解决了一个 curl 库导致的 https 访问错误</title>
      <link>http://i.am.simonkuang.com/post/resolved-a-https-handshake-problem-against-curl/</link>
      <pubDate>Sat, 26 Mar 2016 15:21:04 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/resolved-a-https-handshake-problem-against-curl/</guid>
      <description>使用 EasyWeChat 库调用微信服务的时候，在 laravel tinker 里面调试，发现每次进入 tinker 之后，第一次调用接口没有问题，第二次之后，就会报一个很诡异的错误。
$app = app(&#39;wechat&#39;); // EasyWeChat\Foundation\Application {#628} $users = $app-&amp;gt;user-&amp;gt;lists(); // EasyWeChat\Support\Collection {#756} $user = $app-&amp;gt;user-&amp;gt;get(&#39;o7qrUviv1tkcDFMJ5wdXrpng9NNQ&#39;); // GuzzleHttp\Exception\ConnectException with message &#39;cURL error 35: A PKCS #11 module returned CKR_DEVICE_ERROR, indicating that a problem has occurred with the token or slot. (see http://curl.haxx.se/libcurl/c/libcurl-errors.html)&#39;  PKCS #11 返回的错误，好高端啊。
中间的曲折就不说了。答案在一篇歪果仁的博客上找到，在 github 的评论上得到印证及解决问题的思路。
 NSS error -8023 using AWS SDK for PHP Consecutive API calls return curl error code 35 on CentOS 6.</description>
    </item>
    
    <item>
      <title>工程师最害怕的是:动态需求</title>
      <link>http://i.am.simonkuang.com/post/dynamic-requirements-are-nightmare-of-engineers/</link>
      <pubDate>Mon, 21 Mar 2016 20:56:31 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/dynamic-requirements-are-nightmare-of-engineers/</guid>
      <description>最近和朋友聊天，发现大家普遍遇到比较多下面一些情况。
 『这个功能不是已经实现「差不多」了吗，再加个功能很快吧』； 『以前做过「类似的」功能，这次项目可以复用以前的模块咯』； 『怎么要这么长时间，这个功能以前不是做过的吗』； 『都快 deadline 了还没做完啊。再加个人，一定要按时发布』； 『我们团队已经这么多人了，怎么还完不成这么简单的功能』； ……  遇到上述情况之一，不仅管理者无奈，作为工程师其实也很无奈的。有些事情真的不容易解释清楚，比如：动态需求和动态需求管理。
如果定义我们看到的产品需求是*静态需求*，那么从一个静态需求向另外一个静态需求迁移的过程，就会产生对应的*动态需求*。过去工程师们一般会将这种需求称为*需求变更*，不过这种说法容易导致产品经理的抵触，因为一个产品实际中总是充满各种变化的，不能很好执行*需求变更*的技术团队不是好的技术团队。为了避免这种误解，我们称呼其为*动态需求*更好一些。
解释一下为什么通常*动态需求*会让工程师抓狂，这事儿就好理解了。
一般来讲，完整的项目需求给到工程师，架构师会首先根据项目的需求进行系统架构设计，一方面尽量实现项目的需求，以满足各相关方的利益表达，另外一方面还需要结合项目的发展规划、团队实际情况、现有技术架构等情况，尽可能多地实现非功能性的目标，包括可维护、可扩展、安全性、稳定性、易用性、质量控制、灾备方案，甚至团队构成、成本核算。有句话叫『没有最好的解决方案，只有最适合的』。针对每个具体的场景和需求，一定会有一个相对合适的方案，而这个方案也就是具体到这个场景和需求的，如果简单地把方案挪用到其它场合，就配不上『最优』这个形容词了。
所以，当一个适合某场景的方案产出了成果，我们要直接复用它，拿它为另外一个场景服务，这就是一次从『最优』到『次优』甚至『不优』的迁移。也许这两个场景中一些需求是存在一定程度的重复，因为各个因素的关联性，为了保证迁移之后的方案能相对『较优』，一定是需要额外付出劳动的，而且往往，这种付出对应的工作量还不小，很多迁移本身就是一次大工程。
这也解释了为什么很多工程师往往愿意选择自己重新造轮子，也不愿意使用别人的代码，因为使用别人的代码需要读代码、抠细节、做迁移，当然也包括承担和消化前人遗留下来的谬误。
对于很多创业公司来说，忽视动态需求的危害已经到了能够影响公司自身发展的地步，却很少有人能意识到。最近几年大家对*非功能性需求*普遍比较重视，因为有人通过*技术债*的概念将它抽象出来。可惜需求到需求的迁移产生的代价，还在水面之下，不为众人所见。
后面有时间再讲关于如何处理动态需求带来的问题，以及动态需求的管理。</description>
    </item>
    
    <item>
      <title>redis &#43; supervisor 时苦大仇深的问题</title>
      <link>http://i.am.simonkuang.com/post/redis-and-supervisor-cannot-bind-socket-with-superuser-capabilities/</link>
      <pubDate>Fri, 04 Mar 2016 17:44:22 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/redis-and-supervisor-cannot-bind-socket-with-superuser-capabilities/</guid>
      <description>在我记忆中，CentOS 从很早开始，就没有和各种的问题挂钩过。得益于它保守的升级策略，它自己几乎从来不是问题专业户，我对它的印象更多是因为太过保守导致的库升级不及时问题。
可是最近，CentOS7 某个版本发行之后，偶尔的，会出现 supervisor 拉 redis 失败的问题。从日志的内容来看，全是 Permission denied 相关的问题，bind socket 的时候权限不够，write log 的时候权限不够，dump snapshot 的时候权限不够，只要跟写磁盘相关的，都有这个问题。
单独执行 /usr/bin/redis-server /etc/redis.conf，又一点儿问题没有，命令本身没有问题，一切正常。
关键，supervisor 是以 root 去拉 redis 的啊！表示很无辜 (o´・ェ・｀o)
supervisor 的配置如下：
[program:redis] command = /usr/bin/redis-server /etc/redis.conf ;process_name=%(program_name)s ; process_name expr (default %(program_name)s) numprocs=1 ; number of processes copies to start (def 1) directory=/data ; directory to cwd to before exec (def no cwd) ;umask=022 ; umask for process (default None) ;priority=999 ; the relative start priority (default 999) autostart=true ; start at supervisord start (default: true) autorestart=true ; whether/when to restart (default: unexpected) startsecs=1 ; number of secs prog must stay running (def.</description>
    </item>
    
    <item>
      <title>加速 Laravel 新建项目的办法</title>
      <link>http://i.am.simonkuang.com/post/a-way-to-accelerate-creating-a-new-laravel-project/</link>
      <pubDate>Sat, 19 Dec 2015 14:07:04 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/a-way-to-accelerate-creating-a-new-laravel-project/</guid>
      <description>2017-08-17 更新：因为服务器到期，下述方法已经失效。加速的方法请参照这里的方法设置 composer 镜像源，并使用下面的方式创建项目。
composer create-project --prefer-dist laravel/laravel [project_name]
这样创建项目时，将使用镜像源下载框架，而不会从墙外的 cabinet.laravel.com 下载。
 前段时间有个项目用到了 laravel 框架。laravel 本身是个很优秀的框架，OOP 的思想贯穿始终，大量使用已经开源的第三方类库，用反向控制（IoC）的思想对服务进行抽象和隔离，帮助程序员完成对服务的分治，大大提高了架构效率和开发效率、后期维护效率。
laravel 目前最新的稳定版是 laravel 5.1。因为我是从 5.1 开始使用 laravel 的，对 5.0 及 4.x 版本并不熟悉。但从网上大家的反馈来看，laravel 4.x 的使用方法和 5.x 相差较多，甚至 5.0 和 5.1 在细节处也有很多大的改进。我这里针对的主要是使用 laravel 5.1 的朋友，下面如果未明确提及版本，也默认指代 laravel ^5.1。
laravel 中新建项目的方法如下：
laravel new [project_name]  但是这个命令很慢，原因在于每次执行这个命令，laravel installer 都会从 http://cabinet.laravel.com/latest.zip 下载最新的稳定版 laravel 空项目代码，用以创新新项目。
# ~/.composer/vendor/laravel/installer/src/NewCommand.php (Line.97) // ...... /** * Download the temporary Zip to the given file.</description>
    </item>
    
    <item>
      <title>推荐文章《解读Cardinality Estimation算法》</title>
      <link>http://i.am.simonkuang.com/post/algorithms-for-cardinality-estimation/</link>
      <pubDate>Wed, 09 Dec 2015 11:04:31 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/algorithms-for-cardinality-estimation/</guid>
      <description>推荐一篇文章《解读Cardinality Estimation算法》。
文章讲得很酷，还附带了一个电商数据统计的实际应用案例。
鉴于文章写得太好，明显是博主原创，所以我就不转载了，大家直接光顾原处看吧。下面是系列文章的目录：
 解读Cardinality Estimation算法（第一部分：基础概念） 解读Cardinality Estimation算法（第二部分：Linear Counting） 解读Cardinality Estimation算法（第三部分：LogLog Counting） 解读Cardinality Estimation算法（第四部分：HyperLogLog Counting 和 Adaptive Counting）  另外，作者还有一篇《网站统计中的数据收集原理及实现》的科普文章，同样不错，有想了解数据统计基础原理的同学也可以看看。</description>
    </item>
    
    <item>
      <title>发现 Gitlab 的一个权限问题</title>
      <link>http://i.am.simonkuang.com/post/a-permission-problem-with-gitlab-and-linux-user/</link>
      <pubDate>Sat, 05 Dec 2015 17:28:07 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/a-permission-problem-with-gitlab-and-linux-user/</guid>
      <description>用了好几年的 gitlab，前前后后搭建了好几次系统，解决了不少问题，还是非常熟悉了。昨天又遇到 gitlab 搭建中的一个新的问题。
现象 gitlab 搭建好之后，建账号，加 ssh key，建项目，本地 push，然后就遇到 gitlab 问我要密码。
 git@some.domain.name password:
 项目是我创建的，ssh key 也有添加，还找我要密码，明显不科学。
尝试解决 首先，检查了服务器的 sshd 设定，确认启用了 ssh 登录。
cat /etc/ssh/sshd_config | grep PubkeyAuthentication   PubkeyAuthentication yes
 以为是缓存，分别重启了 redis 和 gitlab。（PS：我的 redis 用 supervisor 管理起来的）
supervisorctl restart redis service gitlab restart  然后等了五分钟再试（其实没有必要），还是不行。
上网查，stackoverflow 上有一个非推荐答案说，重启服务器之后就好了。于是，又重启了服务器。
shutdown -r now  还是不行……
用 ssh -T 命令测试一下，看看结果。
ssh -vvvT git@some.domain.name  …… 一串无关的日志我就省略了，只说重点。
 …… debug3: send_pubkey_test debug2: we sent a publickey packet, wait for reply debug1: Authentications that can continue: publickey,gssapi-keyex,gssapi-with-mic,password debug2: we did not send a packet, disable method debug3: authmethod_lookup password debug3: remaining preferred: ,password debug3: authmethod_is_enabled password debug1: Next authentication method: password git@some.</description>
    </item>
    
    <item>
      <title>网易邮箱已死,有事请烧纸</title>
      <link>http://i.am.simonkuang.com/post/netease-enterprises-email-end-up-itself/</link>
      <pubDate>Sat, 31 Oct 2015 09:15:22 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/netease-enterprises-email-end-up-itself/</guid>
      <description>有这么割裂和相互冲突的产品功能，有这么拙劣的安全事故应对机制，有这差的客户服务，还秉承了做安全『就是让你改不了密码和个人信息』的核心思想…… 就连想安安静静收发个邮件都不让了。网易邮箱已死，有事，请烧纸。
前段时间传出网易邮箱被拖库以后（科普：什么是拖库），我咨询过网易邮箱内部的资深人士，结果发现他们也不知道具体什么情况。从一开始跟我说不可能骂乌云不厚道，到后来让我赶紧去改密码，他们在网易邮箱内部工作的，比我这个外人还警醒得晚。网易邮箱有些事情把上下里外都瞒得棒棒哒，实际怎么样没人能知道。
当初为了所谓『安全』，网易邮箱引导我设置了生日及密码问题、保密邮箱、关联手机、安全码，还引导我申请了密保卡（8X8 矩阵那种），设置了身份信息、关联了手机，最近还申请了结果修改个密码都只能去走『申诉』途径。
我用邮箱无非希望（一）安全（二）无遗漏（三）服务稳定（四）收发及时，其余都属于次要需求。网易现在第一点没保证，第三点不能提供，四点要求出脱一半。关键是，我们还有可替代的方案。网易邮箱不死没天理。
实在不知道网易到底要跟时代脱节到什么地步，到现在了，还固步自封在自己的小世界里，想着跟用户做生意吗？！
只能从此不再用网易邮箱。</description>
    </item>
    
    <item>
      <title>Gitlab 备份时出现 Dumping MySQL FAILED 的错误</title>
      <link>http://i.am.simonkuang.com/post/dumping-mysql-failed-while-backup-gitlab-datas/</link>
      <pubDate>Thu, 29 Oct 2015 12:17:22 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/dumping-mysql-failed-while-backup-gitlab-datas/</guid>
      <description>用 gitlab 很长一段时间了，从 2013 年开始，一直到现在，在每一个团队中都在推广使用 gitlab-ce 做版本管理和项目管理。本来一切好好的，一直到今天。
今天我要做备份的时候。
sudo -u git -H bundle exec rake gitlab:backup:create RAILS_ENV=production  命令不灵了。
 Dumping database &amp;hellip; Dumping MySQL database gitlabhq_production &amp;hellip; [FAILED] Backup failed
 谷歌了解决办法，无非下面几个情况：
 没有装 mysql client library。  解决办法：安装一个 mysql client library 就好。  git 用户没有写入 config/gitlab.yml 中设定的备份目录的权限  解决办法：修改备份目录所有者为 git 用户就好。  官网上有 issue 是关于 PostgreSQL 的，没有结论，参考价值不大  我挨个排查了一下，上面几种情况都排除了。
首先，我的 gitlab 站点完全正常访问， 所以第一种情况可以排除。
其次，tmp/backups/db/ 目录下还有一个空文件 database.sql，我删除之后再试，它还能生成，证明备份 DB 的效果是有的，就是不知道为什么，没有取到 DB 里面的内容，备份成空文件了。顺便检查了下备份目录的磁盘空间，完全充足，用下面的命令证明 git 写入文件到备份目录是完全没有问题的。</description>
    </item>
    
    <item>
      <title>angularjs 的设计文档及部分官方资料</title>
      <link>http://i.am.simonkuang.com/post/angular-js-docs-for-the-users-in-the-wall/</link>
      <pubDate>Tue, 27 Oct 2015 10:19:12 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/angular-js-docs-for-the-users-in-the-wall/</guid>
      <description>Angularjs 是伟大的 Google 贡献的 JS 框架。自问世以来，angularjs 以其独特的开发思维方式鹤立于 web 前端开发的圈子，并且以其出众的实际效果赢得大家的喜爱。
Angularjs 自己提供了一整套的学习文档、设计文档、会议材料等等资料，帮助大家逐步深入了解和学习。可惜这些资料存放在谷歌自己的云盘（Google Drive）中，因为一些众所周知的原因，很不方便下载。我在这里把这些资料打包放在这里，以备不时之需，希望对大家有用。
 Angular_Public_Design_Docs_And_Notes-2015-10-26（七牛空间失效）  PS：最爱 Google 系的一点就是不论是库、框架还是业务代码，文档总是有的，你能从中了解到工程师的初衷和思路，加以消化学习。哈哈！</description>
    </item>
    
    <item>
      <title>再学习 Linux 下的文件权限</title>
      <link>http://i.am.simonkuang.com/post/sticky-bit-of-files-under-linux/</link>
      <pubDate>Thu, 22 Oct 2015 10:37:23 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/post/sticky-bit-of-files-under-linux/</guid>
      <description>最近遇到一个比较搞的问题，有关 linux 下的文件权限。因为发现解决问题之后的答案是我们很多工作多年的攻城狮以前都没有重视过的，所以特别写下来，帮助加深记忆。
【背景】 同事学习 lnmp，搭好 CentOS 6.5 的环境之后，新建了一个用户组 test，在该组别下新建了一个用户 test，然后准备用这个用户模拟 nginx 和 php-fpm 进程的启动用户，跟着手册上做实践。
【关键信息】  用户：test:test 目录：/www/test 目录权限：drwxrwxrwx. 2 root root 40 Oct 21 16:43 test 文件：/www/test/index.html 文件权限：-rw-r--r--. 1 root root 0 Oct 22 10:04 index.html  【现象】  先用 root 的身份 touch 了一个空文件 index.html； su test，然后以 test 用户的身份去删除这个空文件； WTF！！！ 竟然删除文件成功了？？？！！！  普通用户删除了 root 用户的文件，我保证，刚看到这个现象的时候，我内心绝对是崩溃的。
【解决的途径】 首先，检查了 test 用户的用户组，确认的确是 test 组。
其次，检查文件和目录的权限，除了 test 目录没有按照惯例，被设置成 0777 之外，没有什么特别的。不可能一个 0777 还能捣蛋吧？！</description>
    </item>
    
    <item>
      <title>书单</title>
      <link>http://i.am.simonkuang.com/books/</link>
      <pubDate>Sat, 10 Jun 2000 11:41:46 +0800</pubDate>
      
      <guid>http://i.am.simonkuang.com/books/</guid>
      <description></description>
    </item>
    
    <item>
      <title>About</title>
      <link>http://i.am.simonkuang.com/about/</link>
      <pubDate>Thu, 10 Jun 1982 11:42:01 +0800</pubDate>
      
      <guid>http://i.am.simonkuang.com/about/</guid>
      <description></description>
    </item>
    
    <item>
      <title>归档</title>
      <link>http://i.am.simonkuang.com/archives/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>http://i.am.simonkuang.com/archives/</guid>
      <description></description>
    </item>
    
  </channel>
</rss>